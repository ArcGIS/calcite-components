/**
 * CSS Custom Properties
 *
 * These properties can be overridden using the component's tag as selector.
 *
 * @prop --calcite-input-background-color: defines the background color of the component.
 * @prop --calcite-input-border-color: defines the border color of the component.
 * @prop --calcite-input-button-background-color-hover: defines the background color of a button in the component when it's hovered.
 * @prop --calcite-input-button-background-color: defines the background color of a button in the component.
 * @prop --calcite-input-button-border-color: defines the border color of a button in the component.
 * @prop --calcite-input-button-icon-color-active: defines the icon color of a button in the component when it's active.
 * @prop --calcite-input-button-icon-color-hover: defines the icon color of a button in the component when it's hovered.
 * @prop --calcite-input-button-icon-color: defines the icon color of a button in the component.
 * @prop --calcite-input-corner-radius: defines the corner radius of the component.
 * @prop --calcite-input-icon-color:  defines the icon color of the component.
 * @prop --calcite-input-popover-border-color: defines the border color of the popover sub component.
 * @prop --calcite-input-text-color: defines the text color of the component.
 * @prop --calcite-input-time-picker-background-color-active: defines the background color of the time picker sub component when active.
 * @prop --calcite-input-time-picker-background-color-hover: defines the background color of the time picker sub component when hovered.
 * @prop --calcite-input-time-picker-background-color: defines the background color of the time picker sub component.
 * @prop --calcite-input-time-picker-shadow-focus: defines the box shadow around the numbers inside the open component when focused.
 * @prop --calcite-input-time-picker-shadow: defines the box shadow around the numbers inside the open component.
 * @prop --calcite-input-time-picker-icon-color: defines the icon color of the time picker sub component.
 * @prop --calcite-input-time-picker-text-color: defines the text color of the time picker sub component.
 * @prop --calcite-input-time-picker-toggle-icon-color-hover: Specifies the icon color of the toggle when hovered.
 * @prop --calcite-input-time-picker-toggle-icon-color: Specifies the icon color of the toggle.
 * @prop --calcite-input-shadow: defines the shadow of the component.
 *
 */

:host {
  @apply inline-block
    select-none;
}

@include disabled();
@include hidden-form-input();

@function get-trailing-text-input-padding($chevron-spacing) {
  @return calc(var(--calcite-toggle-spacing) + $chevron-spacing);
}

:host([scale="s"]) {
  --calcite-toggle-spacing: theme("spacing.2");
  --calcite-internal-input-text-input-padding-inline-end: #{get-trailing-text-input-padding(theme("spacing.4"))};
}

:host([scale="m"]) {
  --calcite-toggle-spacing: theme("spacing.3");
  --calcite-internal-input-text-input-padding-inline-end: #{get-trailing-text-input-padding(theme("spacing.6"))};
}

:host([scale="l"]) {
  --calcite-toggle-spacing: theme("spacing.4");
  --calcite-internal-input-text-input-padding-inline-end: #{get-trailing-text-input-padding(theme("spacing.8"))};
}

.input-wrapper {
  @apply relative;
}

.toggle-icon {
  @apply absolute flex cursor-pointer items-center;
  inset-inline-end: 0;
  inset-block: 0;
  padding-inline: var(--calcite-toggle-spacing);
  background-color: var(--calcite-input-button-background-color);

  &:hover {
    background-color: var(--calcite-input-button-background-color-hover);
  }

  calcite-icon {
    --calcite-icon-color: var(--calcite-input-time-picker-toggle-icon-color);
  }
}

.input-wrapper:hover .toggle-icon,
:is(calcite-input-text:active, calcite-input-text:hover, calcite-input-text:focus) + .toggle-icon {
  calcite-icon {
    --calcite-icon-color: var(--calcite-input-time-picker-toggle-icon-color-hover, var(--calcite-color-text-1));
  }
}

calcite-popover {
  --calcite-popover-background-color: var(--calcite-input-time-picker-background-color);
  --calcite-popover-border-color: var(--calcite-input-popover-border-color);
  --calcite-popover-shadow: var(--calcite-input-popover-shadow);
}

calcite-time-picker {
  --calcite-time-picker-text-color: var(--calcite-input-time-picker-text-color);
  --calcite-time-picker-background-color: var(--calcite-input-time-picker-background-color);
  --calcite-time-picker-background-color-hover: var(--calcite-input-time-picker-background-color-hover);
  --calcite-time-picker-button-background-color-active: var(--calcite-input-time-picker-background-color-active);
  --calcite-time-picker-icon-color: var(--calcite-input-time-picker-icon-color);
  --calcite-time-picker-input-border-hover-color: var(--calcite-input-time-picker-shadow);
  --calcite-time-picker-input-border-focus-color: var(--calcite-input-time-picker-shadow-focus);
}

calcite-icon {
  --calcite-icon-color: var(--calcite-input-icon-color);
}

@include form-validation-message();
@include base-component();
