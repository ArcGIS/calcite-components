/**
 * CSS Custom Properties
 *
 * These properties can be overridden using the component's tag as selector.
 *
 * @prop --calcite-panel-spacing-block-end: Specifies the padding of the component's `content-bottom` slot.
 * @prop --calcite-panel-spacing-block-start: Specifies the padding of the component's `content-top` slot.
 * @prop --calcite-panel-height: Specifies the height of the component, using `px`, `em`, `rem`, `vh`, or `%`. Will never exceed the height of the viewport. Will not apply if `fullscreen` is set.
 * @prop --calcite-panel-width: Specifies the width of the component, using `px`, `em`, `rem`, `vh`, or `%`. Will never exceed the width of the viewport. Will not apply if `fullscreen` is set.
 * @prop --calcite-panel-action-background-color: defines the background color of an action sub-component inside the component.
 * @prop --calcite-panel-action-background-color-hover: defines the background color of an action sub-component when hovered or focused.
 * @prop --calcite-panel-action-background-color-active: defines the background color of an action sub-component when active.
 * @prop --calcite-panel-action-menu-border-color: The border color of the sub-component.
 * @prop --calcite-panel-action-menu-text-color: The text color of the sub-component.
 * @prop --calcite-panel-background-color: Specifies the background color of the component.
 * @prop --calcite-panel-border-color: Specifies the border color of the component.
 * @prop --calcite-panel-description-text-color: Specifies the text color of the component's description.
 * @prop --calcite-panel-fab-z-index: Specifies the component fab's z-index.
 * @prop --calcite-panel-footer-background-color: Specifies the background color of the component's footer.
 * @prop --calcite-panel-footer-padding: [Deprecated] Use `--calcite-panel-footer-space` instead. Specifies the padding of the component's footer.
 * @prop --calcite-panel-footer-space: Specifies the spacing of the component's footer.
 * @prop --calcite-panel-header-background-color: Specifies the component header's background color.
 * @prop --calcite-panel-header-border-block-end: [Deprecated] No longer necessary. Specifies the component header's block end border.
 * @prop --calcite-panel-header-z-index: Specifies the component header's z-index.
 * @prop --calcite-panel-heading-text-color: Specifies the component's heading text color.
 *
 */

:host {
  @extend %component-host;

  position: relative;
  display: flex;
  flex: 1 1 auto;
  overflow: hidden;
  --calcite-min-header-height: calc(var(--calcite-icon-size) * 3);
  block-size: var(--calcite-panel-height, 100%);
  inline-size: var(--calcite-panel-width, 100%);
}

@import "../../assets/styles/header";

:host([scale="s"]) {
  .content-bottom {
    padding: var(--calcite-panel-spacing-block-end, var(--calcite-spacing-sm));
  }
  .content-top {
    padding: var(--calcite-panel-spacing-block-start, var(--calcite-spacing-sm));
  }

  .container {
    --calcite-internal-panel-space: var(--calcite-spacing-sm);
  }
}

:host([scale="m"]) {
  .container {
    --calcite-internal-panel-space: var(--calcite-spacing-md);
  }

  .content-bottom {
    padding: var(--calcite-panel-spacing-block-end, var(--calcite-spacing-md));
  }

  .content-top {
    padding: var(--calcite-panel-spacing-block-start, var(--calcite-spacing-md));
  }

  .header-content {
    .heading {
      font-size: theme("fontSize.0h");
    }

    .description {
      font-size: theme("fontSize.n1h");
    }
  }
}

:host([scale="l"]) {
  .container {
    --calcite-internal-panel-space: var(--calcite-spacing-xl);
  }
  .content-bottom {
    padding: var(--calcite-panel-spacing-block-end, var(--calcite-spacing-xl));
  }
  .content-top {
    padding: var(--calcite-panel-spacing-block-start, var(--calcite-spacing-xl));
  }

  .header-content {
    padding: var(--calcite-spacing-xl);
  }

  .header-content {
    .heading {
      font-size: theme("fontSize.1h");
    }

    .description {
      font-size: theme("fontSize.0h");
    }
  }
}

.content-top,
.content-bottom {
  @apply flex items-start self-stretch;

  border-block-start: 1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));
  background-color: var(--calcite-color-foreground-1);
}

.container {
  @apply relative m-0 flex w-full flex-auto flex-col items-stretch p-0;
  background-color: var(--calcite-panel-background-color, var(--calcite-color-background));
  transition:
    max-block-size var(--calcite-animation-timing),
    inline-size var(--calcite-animation-timing);
}

.container[hidden] {
  @apply hidden;
}

.header {
  @apply flex flex-col z-header;
  color: var(--calcite-panel-heading-text-color, var(--calcite-color-text-2));
  margin: 0;
  align-content: space-between;
  align-items: center;
  display: flex;
  flex: 1;
  flex-direction: column;
  z-index: var(--calcite-panel-header-z-index, var(--calcite-z-index-header));
  background-color: var(--calcite-panel-header-background-color, var(--calcite-color-foreground-1));
  border-block-end: var(
    --calcite-panel-header-border-block-end,
    var(--calcite-panel-header-border-width, var(--calcite-border-width-sm)) solid
      var(--calcite-panel-border-color, var(--calcite-color-border-3))
  );
}

.header-container {
  display: flex;
  flex-direction: row;
  inline-size: var(--calcite-container-size-content-fluid);
  align-items: stretch;
  justify-content: flex-start;
  flex: 0 0 auto;
}

.header-container--border-end {
  border-block-end: var(--calcite-border-width-sm) solid
    var(--calcite-panel-border-color, var(--calcite-color-border-3));
}

.action-bar-container {
  inline-size: var(--calcite-container-size-content-fluid);
}

.action-bar-container ::slotted(calcite-action-bar) {
  inline-size: var(--calcite-container-size-content-fluid);
}

.header-content {
  @apply flex
    flex-col
    overflow-hidden
    px-3
    py-3.5;

  padding: var(--calcite-panel-space, var(--calcite-internal-panel-space, var(--calcite-spacing-md)));
  margin-inline-end: auto;

  .heading,
  .description {
    display: block;
    overflow-wrap: break-word;
    padding: 0;
  }

  .heading {
    @apply mx-0 mt-0 mb-1 font-medium;

    color: var(--calcite-panel-heading-text-color, var(--calcite-color-text-1));

    &:only-child {
      margin-block-end: 0;
    }
  }

  .description {
    color: var(--calcite-panel-description-text-color, var(--calcite-color-text-2));
  }
}

.back-button {
  border-color: var(--calcite-panel-border-color, var(--calcite-color-border-3));
  border-style: solid;
  border-width: 0;
  border-inline-end-width: var(--calcite-border-width-sm);
}

.header-actions {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-items: stretch;
}

.header-actions--end {
  margin-inline-start: "auto";
}

.content-wrapper {
  display: flex;
  flex: 1 1 auto;
  flex-direction: column;
  flex-wrap: nowrap;
  align-items: stretch;
  background-color: var(--calcite-panel-background-color, var(--calcite-color-background));
  overflow: auto;
  block-size: var(--calcite-container-size-content-fluid);
  padding: var(--calcite-panel-spacing, 0);
}

.footer {
  align-content: space-between;
  align-items: center;
  background-color: var(--calcite-panel-footer-background-color, var(--calcite-color-foreground-1));
  border-block-start: var(--calcite-border-width-sm) solid
    var(--calcite-panel-border-color, var(--calcite-color-border-3));
  column-gap: 0;
  display: flex;
  flex: 0 0 auto;
  inline-size: var(--calcite-container-size-content-fluid);
  justify-content: center;
  margin-block-start: auto;
  padding: var(
    --calcite-panel-footer-space,
    var(--calcite-panel-footer-padding, var(--calcite-internal-panel-space, var(--calcite-spacing-sm)))
  );
  row-gap: var(--calcite-spacing-md);
}

@include slotted("footer-start", "*") {
  @apply flex text-n2-wrap self-center;

  margin-inline-end: auto;
  gap: var(--calcite-spacing-md);
}

@include slotted("footer-end", "*") {
  @apply flex text-n2-wrap self-center;

  gap: var(--calcite-spacing-md);
}

.fab-container {
  position: sticky;
  inset-block-end: 0;
  margin-inline: auto;
  margin-block: 0;
  display: block;
  z-index: var(--calcite-panel-fab-z-index, var(--calcite-z-index-sticky));
  padding: var(--calcite-spacing-xxs);
  inset-inline: 0;
  inline-size: fit-content;
}

calcite-action {
  --calcite-action-background-color: var(--calcite-panel-action-background-color);

  &:hover,
  &:focus {
    --calcite-action-background-color: var(--calcite-panel-action-background-color-hover);
  }

  &:active {
    --calcite-action-background-color: var(--calcite-panel-action-background-color-active);
  }
}

calcite-action-menu {
  --calcite-action-menu-border-color: var(--calcite-panel-action-menu-border-color);
  --calcite-action-menu-text-color: var(--calcite-panel-action-menu-text-color);
}

@include base-component();
@include disabled();
