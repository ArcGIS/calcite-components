/**
* CSS Custom Properties
*
* These properties can be overridden using the component's tag as selector.
*
* @prop --calcite-popover-background-color: Specifies the background color of the component.
* @prop --calcite-popover-border-color: Specifies the border color of the component.
* @prop --calcite-popover-close-background-color-active: Specifies the background color of an action sub-component when active inside the component.
* @prop --calcite-popover-close-background-color-hover: Specifies the background color of an action sub-component when hovered or focused inside the component.
* @prop --calcite-popover-close-background-color: Specifies the background color of an action sub-component inside the component.
* @prop --calcite-popover-close-icon-color-active: Specifies the component's close icon color when active.
* @prop --calcite-popover-close-icon-color-hover: Specifies the component's close icon color on hover.
* @prop --calcite-popover-close-icon-color: Specifies the component's close icon color.
* @prop --calcite-popover-close-text-color-active: Specifies the text color of an action sub-component when active inside the component.
* @prop --calcite-popover-close-text-color-hover: Specifies the text color of an action sub-component when hovered or focused inside the component.
* @prop --calcite-popover-close-text-color: Specifies the text color of an action sub-component inside the component.
* @prop --calcite-popover-corner-radius: Specifies the corner radius of the component.
* @prop --calcite-popover-shadow: Specifies the shadow of the component.
* @prop --calcite-popover-text-color: Specifies the text color of the component.
*
*/

:host {
  @apply pointer-events-none;
}

@include floatingUIHost(
  "var(--calcite-popover-z-index, var(--calcite-z-index-popup))",
  "var(--calcite-popover-shadow, var(--calcite-shadow-md))",
  "var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round))",
  "var(--calcite-border-width-sm)",
  "var(--calcite-popover-border-color, var(--calcite-color-border-3))",
  "var(--calcite-popover-background-color, var(--calcite-color-foreground-1))"
);

.heading {
  @apply word-break
  m-0
  block
  flex-auto
  self-center
  whitespace-normal
  font-medium;

  color: var(--calcite-popover-text-color, var(--calcite-color-text-1));
}

:host([scale="s"]) {
  .heading {
    @apply text-n1-wrap
    px-3
    py-2;
  }
}

:host([scale="m"]) {
  .heading {
    @apply text-0-wrap
    px-4
    py-3;
  }
}

:host([scale="l"]) {
  .heading {
    @apply text-1-wrap
    px-5
    py-4;
  }
}

:host([open]) {
  pointer-events: initial;
}

.header {
  @apply flex
    flex-auto
    items-stretch
    justify-start
    border-0
    border-b
    border-solid;

  border-block-end-color: var(--calcite-popover-border-color, var(--calcite-color-border-3));
}

.container {
  @apply relative
    flex
    h-full
    flex-row
    flex-nowrap;

  color: var(--calcite-popover-text-color, var(--calcite-color-text-1));
  border-radius: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));

  &.has-header {
    @apply flex-col;
  }
}

.content {
  @apply word-break
  flex
  h-full
  w-full
  flex-col
  flex-nowrap
  self-center;
}

.close-button-container {
  @apply flex overflow-hidden;
  flex: 0 0 auto;
  border-start-end-radius: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));
  border-end-end-radius: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));
}

.close-button {
  color: var(--calcite-popover-close-icon-color);

  &:hover,
  &:focus {
    color: var(--calcite-popover-close-icon-color-hover);
  }

  &:active {
    color: var(--calcite-popover-close-icon-color-active);
  }
}

::slotted(calcite-panel),
::slotted(calcite-flow) {
  @apply h-full;
}

calcite-action {
  --calcite-action-background-color: var(--calcite-popover-close-background-color);
  --calcite-action-text-color: var(--calcite-popover-close-text-color);

  &:hover,
  &:focus {
    --calcite-action-background-color: var(--calcite-popover-close-background-color-hover);
    --calcite-action-text-color: var(--calcite-popover-close-text-color-hover);
  }

  &:active {
    --calcite-action-background-color: var(--calcite-popover-close-background-color-active);
    --calcite-action-text-color: var(--calcite-popover-close-text-color-active);
  }
}

@include base-component();
