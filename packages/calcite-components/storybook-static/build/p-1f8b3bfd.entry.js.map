{"version":3,"names":["CSS","actionIcon","actionIconStart","actionIconEnd","actionContainer","stepBarContainer","singleView","stepBar","stepBarActive","stepBarComplete","stepBarDisabled","stepBarError","StepBar","disabled","selected","complete","error","key","h","class","width","x","y","stepperCss","CalciteStepperStyle0","Stepper","this","enabledItems","itemMap","Map","items","mutationObserver","createObserver","updateItems","multipleViewMode","guid","handleActionClick","event","currentActivePosition","target","getAttribute","prevStep","nextStep","calciteStepperItemChange","emit","setContainerEl","el","containerEl","handleDefaultSlotChange","slotChangeGetAssignedElements","filter","tagName","spacing","Array","length","fill","join","style","gridTemplateAreas","gridTemplateColumns","setStepperItemNumberingSystem","handleItemPropChange","determineActiveStepper","numberingSystemChange","onMessagesChange","connectedCallback","observe","childList","connectMessages","connectLocalized","componentWillLoad","setUpMessages","componentDidLoad","enabledStepIndex","getFirstEnabledStepperPosition","calciteInternalStepperItemChange","position","disconnectedCallback","disconnectMessages","disconnectLocalized","disconnect","render","Host","messages","label","role","container","layout","ref","map","item","index","renderAction","onSlotchange","calciteInternalStepperItemKeyEvent","detail","itemToFocus","focusElementInGroup","stopPropagation","registerItem","content","set","filterItems","updateItem","selectedItem","handleUserRequestedStepperItemSelect","getEnabledStepIndex","updateStep","goToStep","step","startStep","endStep","effectiveLocaleChange","updateMessages","effectiveLocale","handlePositionChange","readTask","querySelectorAll","forEach","icon","numbered","scale","hidden","startIndex","direction","newIndex","numberingSystem","isPositionStart","path","totalItems","id","alignment","appearance","compact","iconFlipRtl","onClick","text","previousStep","findIndex","stepperItemContent","stepperItemDescription","stepperItemHeader","stepperItemHeading","stepperItemHeaderText","stepperItemNumber","visuallyHidden","stepperItemCss","CalciteStepperItemStyle0","StepperItem","keyDownHandler","emitUserRequestedItem","preventDefault","handleItemClick","composedPath","some","classList","contains","emitRequestedItem","itemPosition","calciteInternalUserRequestedStepperItemSelect","calciteInternalStepperItemSelect","selectedHandler","disabledWatcher","registerStepperItem","effectiveLocaleWatcher","locale","numberStringFormatter","numberFormatOptions","useGrouping","connectInteractive","setUpLoadableComponent","parentStepperEl","parentElement","getItemPosition","setComponentLoaded","componentDidRender","updateHostInteraction","disconnectInteractive","onKeyDown","tabIndex","InteractiveContainer","headerEl","renderIcon","renderNumbers","heading","description","updateActiveItemOnChange","includes","selectedPosition","determineSelectedItem","setFocus","componentFocusable","focus","flipRtl","calciteInternalStepperItemRegister","from","indexOf","numberFormatter","format"],"sources":["src/components/stepper/resources.ts","src/components/stepper/functional/step-bar.tsx","src/components/stepper/stepper.scss?tag=calcite-stepper&encapsulation=shadow","src/components/stepper/stepper.tsx","src/components/stepper-item/resources.ts","src/components/stepper-item/stepper-item.scss?tag=calcite-stepper-item&encapsulation=shadow","src/components/stepper-item/stepper-item.tsx"],"sourcesContent":["export const CSS = {\n  actionIcon: \"action-icon\",\n  actionIconStart: \"action-icon--start\",\n  actionIconEnd: \"action-icon--end\",\n  actionContainer: \"action-container\",\n  stepBarContainer: \"step-bar-container\",\n  singleView: \"single-view\",\n};\n","import { FunctionalComponent, h } from \"@stencil/core\";\n\ninterface StepBarProps {\n  selected: boolean;\n  complete: boolean;\n  error: boolean;\n  disabled: boolean;\n  key: number;\n}\n\nexport const CSS = {\n  stepBar: \"step-bar\",\n  stepBarActive: \"step-bar--selected\",\n  stepBarComplete: \"step-bar--complete\",\n  stepBarDisabled: \"step-bar--disabled\",\n  stepBarError: \"step-bar--error\",\n};\n\nexport const StepBar: FunctionalComponent<StepBarProps> = ({\n  disabled,\n  selected,\n  complete,\n  error,\n  key,\n}) => (\n  <svg\n    class={{\n      [CSS.stepBar]: true,\n    }}\n    key={key}\n  >\n    <rect\n      class={{\n        [CSS.stepBarActive]: selected,\n        [CSS.stepBarComplete]: complete,\n        [CSS.stepBarDisabled]: disabled,\n        [CSS.stepBarError]: error,\n      }}\n      width=\"100%\"\n      x=\"0\"\n      y=\"0\"\n    />\n  </svg>\n);\n","@import \"~@esri/calcite-design-tokens/dist/scss/core\";\n\n/**\n * CSS Custom Properties\n *\n * These properties can be overridden using the component's tag as selector.\n *\n * @prop --calcite-stepper-action-background-color: defines the background color of an action sub-component inside the component.\n * @prop --calcite-stepper-action-background-color-hover: defines the background color of an action sub-component when hovered or focused.\n * @prop --calcite-stepper-action-background-color-active: defines the background color of an action sub-component when active.\n * @prop --calcite-stepper-step-bar-fill-color : Specifies fill color for step-bar.\n * @prop --calcite-stepper-step-bar-fill-color-hover : Specifies fill color for step-bar when hovered.\n * @prop --calcite-stepper-step-bar-selected-fill-color : Specifies fill color for selected step-bar.\n * @prop --calcite-stepper-step-bar-complete-fill-color : Specifies fill color for completed step-bar.\n * @prop --calcite-stepper-step-bar-completed-fill-color-hover : Specifies fill color for completed step-bar when hovered.\n * @prop --calcite-stepper-step-bar-error-fill-color : Specifies fill color for error step-bar.\n * @prop --calcite-stepper-step-bar-error-fill-color-hover : Specifies fill color for error step-bar when hovered.\n *\n */\n\n:host([scale=\"s\"]) {\n  --calcite-internal-stepper-item-space-unit-s: theme(\"spacing.1\");\n  --calcite-internal-stepper-action-block-size: theme(\"spacing.11\");\n  --calcite-internal-stepper-action-inline-size: theme(\"spacing.8\");\n}\n\n:host([scale=\"m\"]) {\n  --calcite-internal-stepper-item-space-unit-s: theme(\"spacing.2\");\n  --calcite-internal-stepper-action-block-size: theme(\"spacing.13\");\n  --calcite-internal-stepper-action-inline-size: theme(\"spacing.10\");\n}\n\n:host([scale=\"l\"]) {\n  --calcite-internal-stepper-item-space-unit-s: theme(\"spacing.3\");\n  --calcite-internal-stepper-action-block-size: theme(\"spacing.16\");\n  --calcite-internal-stepper-action-inline-size: theme(\"spacing.12\");\n}\n\n:host {\n  @apply flex;\n}\n\n.container {\n  @apply relative\n    flex\n    min-w-fit\n    flex-row\n    flex-wrap\n    items-stretch\n    justify-between;\n  inline-size: var(--calcite-container-size-content-fluid);\n}\n\n:host([layout=\"vertical\"]) .container {\n  @apply flex-auto flex-col;\n}\n\n:host([layout=\"horizontal\"]),\n:host([layout=\"horizontal-single\"]) {\n  .container {\n    display: grid;\n    // grid-templates-columns are dynamically generated\n    // grid-templates-rows are dynamically generated\n    grid-template-areas:\n      \"items\"\n      \"content\";\n    gap: var(--calcite-internal-stepper-item-space-unit-s);\n  }\n}\n\n:host([layout=\"horizontal\"]) .container.single-view {\n  @apply flex  grid-cols-none;\n}\n\n.action-icon {\n  @apply flex relative grow-0;\n  block-size: var(--calcite-internal-stepper-action-block-size);\n  inline-size: var(--calcite-internal-stepper-action-inline-size);\n}\n\n.action-container {\n  @apply absolute flex justify-between;\n  padding-block: var(--calcite-spacing-xxs);\n  inline-size: var(--calcite-container-size-content-fluid);\n}\n\n@mixin stepBar {\n  .step-bar {\n    @apply flex;\n    block-size: var(--calcite-container-size-content-fluid);\n    inline-size: var(--calcite-container-size-content-fluid);\n    rect {\n      fill: var(--calcite-stepper-step-bar-fill-color, var(--calcite-color-border-3));\n      fill-opacity: var(--calcite-opacity-full);\n      block-size: var(--calcite-container-size-content-fluid);\n    }\n  }\n\n  .step-bar-container {\n    @apply flex absolute justify-between items-start;\n    block-size: var(--calcite-spacing-base);\n    inline-size: var(--calcite-container-size-content-fluid);\n    gap: var(--calcite-internal-stepper-item-space-unit-s, var(--calcite-spacing-sm));\n  }\n\n  rect.step-bar--selected {\n    fill: var(--calcite-stepper-step-bar-selected-fill-color, var(--calcite-color-brand));\n  }\n\n  rect.step-bar--complete {\n    fill: var(--calcite-stepper-step-bar-complete-fill-color, var(--calcite-color-brand));\n    fill-opacity: var(--calcite-opacity-half);\n  }\n\n  rect.step-bar--error {\n    fill: var(--calcite-stepper-step-bar-error-fill-color, var(--calcite-color-status-danger));\n  }\n\n  rect.step-bar--disabled {\n    opacity: var(--calcite-opacity-half);\n  }\n}\n\ncalcite-action {\n  --calcite-action-background-color: var(--calcite-stepper-action-background-color);\n  &:hover,\n  &:focus {\n    --calcite-action-background-color: var(--calcite-stepper-action-background-color-hover);\n  }\n\n  &:active {\n    --calcite-action-background-color: var(--calcite-stepper-action-background-color-active);\n  }\n}\n\n@include stepBar();\n@include base-component();\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  State,\n  VNode,\n  Watch,\n  readTask,\n} from \"@stencil/core\";\nimport { focusElementInGroup, slotChangeGetAssignedElements } from \"../../utils/dom\";\nimport { Position, Scale } from \"../interfaces\";\nimport { createObserver } from \"../../utils/observers\";\nimport { guid } from \"../../utils/guid\";\nimport {\n  connectLocalized,\n  disconnectLocalized,\n  LocalizedComponent,\n  NumberingSystem,\n} from \"../../utils/locale\";\nimport {\n  connectMessages,\n  disconnectMessages,\n  setUpMessages,\n  T9nComponent,\n  updateMessages,\n} from \"../../utils/t9n\";\nimport { CSS } from \"./resources\";\nimport { StepBar } from \"./functional/step-bar\";\nimport {\n  StepperItemChangeEventDetail,\n  StepperItemKeyEventDetail,\n  StepperLayout,\n} from \"./interfaces\";\nimport { StepperMessages } from \"./assets/stepper/t9n\";\n\n/**\n * @slot - A slot for adding `calcite-stepper-item` elements.\n */\n@Component({\n  tag: \"calcite-stepper\",\n  styleUrl: \"stepper.scss\",\n  shadow: true,\n  assetsDirs: [\"assets\"],\n})\nexport class Stepper implements LocalizedComponent, T9nComponent {\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /** When `true`, displays a status icon in the `calcite-stepper-item` heading. */\n  @Prop({ reflect: true }) icon = false;\n\n  /** Defines the layout of the component. */\n  @Prop({ reflect: true }) layout: StepperLayout = \"horizontal\";\n\n  /** When `true`, displays the step number in the `calcite-stepper-item` heading. */\n  @Prop({ reflect: true }) numbered = false;\n\n  /** Specifies the size of the component. */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  @Watch(\"icon\")\n  @Watch(\"layout\")\n  @Watch(\"numbered\")\n  @Watch(\"scale\")\n  handleItemPropChange(): void {\n    this.updateItems();\n    this.determineActiveStepper();\n  }\n\n  /**\n   * Made into a prop for testing purposes only\n   *\n   * @internal\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messages: StepperMessages;\n\n  /**\n   * Specifies the Unicode numeral system used by the component for localization.\n   */\n  @Prop({ reflect: true }) numberingSystem?: NumberingSystem;\n\n  @Watch(\"numberingSystem\")\n  numberingSystemChange(): void {\n    this.setStepperItemNumberingSystem();\n  }\n\n  /**\n   * Specifies the component's selected item.\n   *\n   * @readonly\n   */\n  @Prop({ mutable: true }) selectedItem: HTMLCalciteStepperItemElement = null;\n\n  /**\n   * Use this property to override individual strings used by the component.\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messageOverrides: Partial<StepperMessages>;\n\n  @Watch(\"messageOverrides\")\n  onMessagesChange(): void {\n    /* wired up by t9n util */\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Fires when the active `calcite-stepper-item` changes.\n   *\n   */\n  @Event({ cancelable: false }) calciteStepperItemChange: EventEmitter<void>;\n\n  /**\n   * Fires when the active `calcite-stepper-item` changes.\n   *\n   * @internal\n   */\n  @Event({ cancelable: false })\n  calciteInternalStepperItemChange: EventEmitter<StepperItemChangeEventDetail>;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    this.mutationObserver?.observe(this.el, { childList: true });\n    this.updateItems();\n    connectMessages(this);\n    connectLocalized(this);\n  }\n\n  async componentWillLoad(): Promise<void> {\n    await setUpMessages(this);\n  }\n\n  componentDidLoad(): void {\n    // if no stepper items are set as active, default to the first one\n    if (typeof this.currentActivePosition !== \"number\") {\n      const enabledStepIndex = this.getFirstEnabledStepperPosition();\n\n      if (enabledStepIndex === 0) {\n        this.currentActivePosition = enabledStepIndex;\n      }\n\n      this.calciteInternalStepperItemChange.emit({\n        position: enabledStepIndex,\n      });\n    }\n  }\n\n  disconnectedCallback(): void {\n    disconnectMessages(this);\n    disconnectLocalized(this);\n    this.mutationObserver?.disconnect();\n  }\n\n  render(): VNode {\n    return (\n      <Host aria-label={this.messages.label} role=\"region\">\n        <div\n          class={{ container: true, [CSS.singleView]: this.layout === \"horizontal-single\" }}\n          ref={this.setContainerEl}\n        >\n          {this.layout === \"horizontal-single\" && (\n            <div class={{ [CSS.stepBarContainer]: true }}>\n              {this.items.map((item, index) => (\n                <StepBar\n                  complete={item.complete && index !== this.currentActivePosition && !item.error}\n                  disabled={item.disabled && index !== this.currentActivePosition}\n                  error={item.error && index !== this.currentActivePosition}\n                  key={index}\n                  selected={index === this.currentActivePosition}\n                />\n              ))}\n            </div>\n          )}\n          {this.layout === \"horizontal-single\" && (\n            <div class={{ [CSS.actionContainer]: true }}>\n              {this.renderAction(\"start\")}\n              {this.renderAction(\"end\")}\n            </div>\n          )}\n          <slot onSlotchange={this.handleDefaultSlotChange} />\n        </div>\n      </Host>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"calciteInternalStepperItemKeyEvent\")\n  calciteInternalStepperItemKeyEvent(event: CustomEvent<StepperItemKeyEventDetail>): void {\n    const item = event.detail.item;\n    const itemToFocus = event.target as HTMLCalciteStepperItemElement;\n\n    switch (item.key) {\n      case \"ArrowDown\":\n      case \"ArrowRight\":\n        focusElementInGroup(this.enabledItems, itemToFocus, \"next\");\n        break;\n      case \"ArrowUp\":\n      case \"ArrowLeft\":\n        focusElementInGroup(this.enabledItems, itemToFocus, \"previous\");\n        break;\n      case \"Home\":\n        focusElementInGroup(this.enabledItems, itemToFocus, \"first\");\n        break;\n      case \"End\":\n        focusElementInGroup(this.enabledItems, itemToFocus, \"last\");\n        break;\n    }\n    event.stopPropagation();\n  }\n\n  @Listen(\"calciteInternalStepperItemRegister\")\n  registerItem(event: CustomEvent): void {\n    const item = event.target as HTMLCalciteStepperItemElement;\n    const { content, position } = event.detail;\n\n    this.itemMap.set(item, { position, content });\n    this.enabledItems = this.filterItems();\n    event.stopPropagation();\n  }\n\n  @Listen(\"calciteInternalStepperItemSelect\")\n  updateItem(event: CustomEvent): void {\n    const { position } = event.detail;\n    if (typeof position === \"number\") {\n      this.currentActivePosition = position;\n      this.selectedItem = event.target as HTMLCalciteStepperItemElement;\n    }\n\n    this.calciteInternalStepperItemChange.emit({\n      position,\n    });\n  }\n\n  @Listen(\"calciteInternalUserRequestedStepperItemSelect\")\n  handleUserRequestedStepperItemSelect(): void {\n    this.calciteStepperItemChange.emit();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /** Set the next `calcite-stepper-item` as active. */\n  @Method()\n  async nextStep(): Promise<void> {\n    const enabledStepIndex = this.getEnabledStepIndex(this.currentActivePosition + 1, \"next\");\n\n    if (typeof enabledStepIndex !== \"number\") {\n      return;\n    }\n\n    this.updateStep(enabledStepIndex);\n  }\n\n  /** Set the previous `calcite-stepper-item` as active. */\n  @Method()\n  async prevStep(): Promise<void> {\n    const enabledStepIndex = this.getEnabledStepIndex(this.currentActivePosition - 1, \"previous\");\n\n    if (typeof enabledStepIndex !== \"number\") {\n      return;\n    }\n\n    this.updateStep(enabledStepIndex);\n  }\n\n  /**\n   * Set a specified `calcite-stepper-item` as active.\n   *\n   * @param step\n   */\n  @Method()\n  async goToStep(step: number): Promise<void> {\n    const position = step - 1;\n\n    if (this.currentActivePosition !== position) {\n      this.updateStep(position);\n    }\n  }\n\n  /** Set the first `calcite-stepper-item` as active. */\n  @Method()\n  async startStep(): Promise<void> {\n    const enabledStepIndex = this.getEnabledStepIndex(0, \"next\");\n\n    if (typeof enabledStepIndex !== \"number\") {\n      return;\n    }\n\n    this.updateStep(enabledStepIndex);\n  }\n\n  /** Set the last `calcite-stepper-item` as active. */\n  @Method()\n  async endStep(): Promise<void> {\n    const enabledStepIndex = this.getEnabledStepIndex(this.items.length - 1, \"previous\");\n\n    if (typeof enabledStepIndex !== \"number\") {\n      return;\n    }\n\n    this.updateStep(enabledStepIndex);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteStepperElement;\n\n  @State() defaultMessages: StepperMessages;\n\n  @State() effectiveLocale = \"\";\n\n  @Watch(\"effectiveLocale\")\n  effectiveLocaleChange(): void {\n    updateMessages(this, this.effectiveLocale);\n  }\n\n  @State() currentActivePosition: number;\n\n  @Watch(\"currentActivePosition\")\n  handlePositionChange(): void {\n    readTask((): void => {\n      this.determineActiveStepper();\n    });\n  }\n\n  private enabledItems: HTMLCalciteStepperItemElement[] = [];\n\n  private itemMap = new Map<HTMLCalciteStepperItemElement, { position: number; content: Node[] }>();\n\n  private items: HTMLCalciteStepperItemElement[] = [];\n\n  private mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n\n  /** Specifies if the user is viewing one `stepper-item` at a time when the page width is less than sum of min-width of each item. */\n  private multipleViewMode = false;\n\n  private guid = `calcite-stepper-action-${guid()}`;\n\n  private containerEl: HTMLDivElement;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  private updateItems(): void {\n    this.el.querySelectorAll(\"calcite-stepper-item\").forEach((item) => {\n      item.icon = this.icon;\n      item.numbered = this.numbered;\n      item.layout = this.layout;\n      item.scale = this.scale;\n    });\n  }\n\n  private determineActiveStepper(): void {\n    const { items } = this;\n\n    if (items.length < 2) {\n      return;\n    }\n\n    const { currentActivePosition, layout } = this;\n\n    this.multipleViewMode = layout !== \"horizontal-single\";\n    items.forEach((item, index) => {\n      item.hidden = layout === \"horizontal-single\" && index !== (currentActivePosition || 0);\n    });\n  }\n\n  private getEnabledStepIndex(\n    startIndex: number,\n    direction: \"next\" | \"previous\" = \"next\",\n  ): number | null {\n    const { items, currentActivePosition } = this;\n\n    let newIndex = startIndex;\n\n    while (items[newIndex]?.disabled && this.layout !== \"horizontal-single\") {\n      newIndex = newIndex + (direction === \"previous\" ? -1 : 1);\n    }\n\n    return newIndex !== currentActivePosition && newIndex < items.length && newIndex >= 0\n      ? newIndex\n      : null;\n  }\n\n  private updateStep(position: number): void {\n    this.currentActivePosition = position;\n    this.calciteInternalStepperItemChange.emit({\n      position,\n    });\n  }\n\n  private filterItems(): HTMLCalciteStepperItemElement[] {\n    return this.items.filter((item) => !item.disabled);\n  }\n\n  private setStepperItemNumberingSystem(): void {\n    this.items.forEach((item: HTMLCalciteStepperItemElement) => {\n      item.numberingSystem = this.numberingSystem;\n    });\n  }\n\n  private renderAction(position: Position): VNode {\n    const isPositionStart = position === \"start\";\n    const path = isPositionStart ? \"chevron-left\" : \"chevron-right\";\n    const { currentActivePosition, multipleViewMode, layout } = this;\n    const totalItems = this.items.length;\n    const id = `${this.guid}-${isPositionStart ? \"start\" : \"end\"}`;\n\n    return layout === \"horizontal-single\" && !multipleViewMode ? (\n      <calcite-action\n        alignment=\"center\"\n        appearance=\"transparent\"\n        class={{\n          [CSS.actionIcon]: true,\n        }}\n        compact={true}\n        data-position={position}\n        disabled={\n          (currentActivePosition === 0 && isPositionStart) ||\n          (currentActivePosition === totalItems - 1 && !isPositionStart)\n        }\n        icon={path}\n        iconFlipRtl={true}\n        id={id}\n        onClick={this.handleActionClick}\n        scale={this.scale}\n        text={isPositionStart ? this.messages.previousStep : this.messages.nextStep}\n      />\n    ) : null;\n  }\n\n  private handleActionClick = (event: MouseEvent): void => {\n    const currentActivePosition = this.currentActivePosition;\n    const target = event.target as HTMLCalciteActionElement;\n    if (target.getAttribute(\"data-position\") === \"start\") {\n      this.prevStep();\n    } else {\n      this.nextStep();\n    }\n\n    if (\n      typeof this.currentActivePosition === \"number\" &&\n      currentActivePosition !== this.currentActivePosition &&\n      !this.items[this.currentActivePosition].disabled\n    ) {\n      this.calciteStepperItemChange.emit();\n    }\n  };\n\n  private getFirstEnabledStepperPosition(): number {\n    const enabledStepIndex = this.items.findIndex((item) => !item.disabled);\n\n    if (enabledStepIndex > -1) {\n      return enabledStepIndex;\n    }\n    return 0;\n  }\n\n  private setContainerEl = (el: HTMLDivElement): void => {\n    this.containerEl = el;\n  };\n\n  handleDefaultSlotChange = (event: Event): void => {\n    const items = slotChangeGetAssignedElements(event).filter(\n      (el) => el?.tagName === \"CALCITE-STEPPER-ITEM\",\n    );\n    this.items = items as HTMLCalciteStepperItemElement[];\n    const spacing = Array(items.length).fill(\"1fr\").join(\" \");\n    this.containerEl.style.gridTemplateAreas = spacing;\n    this.containerEl.style.gridTemplateColumns = spacing;\n    this.setStepperItemNumberingSystem();\n  };\n}\n","export const CSS = {\n  container: \"container\",\n  stepperItemContent: \"stepper-item-content\",\n  stepperItemDescription: \"stepper-item-description\",\n  stepperItemHeader: \"stepper-item-header\",\n  stepperItemHeading: \"stepper-item-heading\",\n  stepperItemHeaderText: \"stepper-item-header-text\",\n  stepperItemNumber: \"stepper-item-number\",\n  visuallyHidden: \"visually-hidden\",\n};\n","/**\n * CSS Custom Properties\n *\n * These properties can be overridden using the component's tag as selector.\n *\n * @prop --calcite-stepper-item-description-text-color: Specifies text color of description of component.\n * @prop --calcite-stepper-item-heading-text-color: Specifies text color of heading of component.\n * @prop --calcite-stepper-item-icon-color: Specifies color of icon of component.\n * @prop --calcite-stepper-item-number-text-color: Specifies text color of number of component.\n * @prop --calcite-stepper-item-text-color: Specifies text color of component.\n *\n */\n\n:host([scale=\"s\"]) {\n  --calcite-internal-stepper-action-inline-size: theme(\"spacing.8\");\n  --calcite-internal-stepper-item-description-font-size: var(--calcite-font-size-sm);\n  --calcite-internal-stepper-item-description-line-height: var(--calcite-font-line-height-fixed-base);\n  --calcite-internal-stepper-item-font-size: var(--calcite-font-size);\n  --calcite-internal-stepper-item-line-height: var(--calcite-font-line-height-fixed-base);\n  --calcite-internal-stepper-item-space-unit-l: theme(\"spacing.4\");\n  --calcite-internal-stepper-item-space-unit-m: theme(\"spacing.3\");\n  --calcite-internal-stepper-item-space-unit-s: theme(\"spacing.1\");\n}\n\n:host([scale=\"m\"]) {\n  --calcite-internal-stepper-action-inline-size: theme(\"spacing.10\");\n  --calcite-internal-stepper-item-description-font-size: var(--calcite-font-size);\n  --calcite-internal-stepper-item-description-line-height: var(--calcite-font-line-height-fixed-base);\n  --calcite-internal-stepper-item-font-size: var(--calcite-font-size-md);\n  --calcite-internal-stepper-item-line-height: var(--calcite-font-line-height-fixed-lg);\n  --calcite-internal-stepper-item-space-unit-l: theme(\"spacing.5\");\n  --calcite-internal-stepper-item-space-unit-m: theme(\"spacing.4\");\n  --calcite-internal-stepper-item-space-unit-s: theme(\"spacing.2\");\n}\n\n:host([scale=\"l\"]) {\n  --calcite-internal-stepper-action-inline-size: theme(\"spacing.12\");\n  --calcite-internal-stepper-item-description-font-size: var(--calcite-font-size-md);\n  --calcite-internal-stepper-item-description-line-height: var(--calcite-font-line-height-fixed-lg);\n  --calcite-internal-stepper-item-font-size: var(--calcite-font-size-lg);\n  --calcite-internal-stepper-item-line-height: var(--calcite-font-line-height-fixed-xl);\n  --calcite-internal-stepper-item-space-unit-l: theme(\"spacing.6\");\n  --calcite-internal-stepper-item-space-unit-m: theme(\"spacing.5\");\n  --calcite-internal-stepper-item-space-unit-s: theme(\"spacing.3\");\n}\n\n:host {\n  @apply relative\n  flex\n  flex-grow\n  flex-col\n  self-start\n  focus-base;\n  margin-block-end: var(--calcite-internal-stepper-item-space-unit-s);\n  margin-inline-end: var(--calcite-internal-stepper-item-space-unit-s);\n  font-size: var(--calcite-internal-stepper-item-font-size);\n  line-height: var(--calcite-internal-stepper-item-line-height);\n}\n\n.container {\n  @apply relative\n    flex\n    flex-grow\n    cursor-pointer\n    flex-col\n    border-0\n    border-solid\n    no-underline\n    outline-none\n    duration-150\n    ease-in-out;\n  border-block-start-width: var(--calcite-spacing-base);\n  border-color: var(\n    --calcite-stepper-item-border-color,\n    var(--calcite-stepper-step-bar-fill-color, var(--calcite-color-border-3))\n  );\n  color: var(\n    --calcite-stepper-item-text-color,\n    var(--calcite-internal-stepper-item-text-color, var(--calcite-color-text-3))\n  );\n}\n\n:host(:focus) {\n  @apply focus-outset;\n}\n\n.stepper-item-header {\n  @apply flex cursor-pointer items-start;\n}\n\n.stepper-item-content,\n.stepper-item-header {\n  @apply duration-150 ease-in-out;\n  padding-block: var(--calcite-internal-stepper-item-space-unit-l);\n  padding-inline-end: var(--calcite-internal-stepper-item-space-unit-m);\n  text-align: start;\n}\n\n.stepper-item-header * {\n  @apply inline-flex\n    items-center\n    duration-150\n    ease-in-out;\n}\n\n.stepper-item-content {\n  @apply hidden\n    flex-col;\n  inline-size: var(--calcite-container-size-content-fluid);\n  font-size: var(--calcite-font-size-sm);\n  line-height: var(--calcite-font-line-height-relative-snug);\n}\n\n.stepper-item-icon {\n  margin-inline-end: var(--calcite-internal-stepper-item-space-unit-m);\n  @apply mt-px\n    inline-flex\n    h-3\n    flex-shrink-0\n    self-start\n    duration-150\n    ease-in-out;\n  color: var(\n    --calcite-stepper-item-icon-color,\n    var(--calcite-internal-stepper-item-icon-color, var(--calcite-color-text-3))\n  );\n  opacity: var(--calcite-internal-stepper-item-icon-opacity, var(--calcite-opacity-disabled));\n}\n\n.stepper-item-header-text {\n  @apply flex-col;\n  text-align: initial;\n  margin-inline-end: auto;\n}\n\n.stepper-item-heading,\n.stepper-item-description {\n  @apply flex w-full;\n}\n\n.stepper-item-heading {\n  @apply mb-1;\n\n  color: var(\n    --calcite-stepper-item-heading-text-color,\n    var(--calcite-internal-stepper-item-heading-text-color, var(--calcite-color-text-2))\n  );\n  font-weight: var(--calcite-font-weight-medium);\n}\n\n.stepper-item-description {\n  font-size: var(--calcite-internal-stepper-item-description-font-size);\n  line-height: var(--calcite-internal-stepper-item-description-line-height);\n  color: var(\n    --calcite-stepper-item-description-text-color,\n    var(--calcite-internal-stepper-item-description-text-color, var(--calcite-color-text-3))\n  );\n}\n\n.stepper-item-number {\n  @apply duration-150\n    ease-in-out;\n  margin-inline-end: var(--calcite-internal-stepper-item-space-unit-m);\n  color: var(\n    --calcite-stepper-item-number-text-color,\n    var(--calcite-internal-stepper-item-number-text-color, var(--calcite-color-text-3))\n  );\n  font-weight: var(--calcite-font-weight-medium);\n}\n\n@include disabled();\n\n:host([complete]) .container {\n  --calcite-internal-stepper-item-icon-color: var(--calcite-color-brand);\n}\n\n:host([error]) .container {\n  --calcite-internal-stepper-item-number-text-color: var(--calcite-color-status-danger);\n  --calcite-internal-stepper-item-icon-opacity: var(--calcite-opacity-full);\n  --calcite-internal-stepper-item-icon-color: var(--calcite-color-status-danger);\n}\n\n:host(:hover):not([selected]) .container,\n:host(:focus):not([selected]) .container {\n  border-block-start-color: var(--calcite-color-brand);\n  --calcite-internal-stepper-item-heading-text-color: var(--calcite-color-text-1);\n  --calcite-internal-stepper-item-description-text-color: var(--calcite-color-text-2);\n}\n\n:host([selected]) .container {\n  --calcite-internal-stepper-item-heading-text-color: var(--calcite-color-text-1);\n  --calcite-internal-stepper-item-description-text-color: var(--calcite-color-text-2);\n  --calcite-internal-stepper-item-number-text-color: var(--calcite-color-brand);\n  --calcite-internal-stepper-item-icon-color: var(--calcite-color-brand);\n  --calcite-internal-stepper-item-icon-opacity: var(--calcite-opacity-full);\n}\n\n:host([selected]) .container {\n  & .stepper-item-content {\n    @apply flex;\n  }\n}\n\n:host([layout=\"vertical\"]) .container {\n  @apply mx-0\n  mt-0\n  flex-auto\n  border-t-0\n  border-solid\n  py-0;\n  border-color: var(--calcite-stepper-step-bar-fill-color, var(--calcite-color-border-3));\n  border-inline-start-width: theme(\"borderWidth.2\");\n  padding-inline-start: var(--calcite-internal-stepper-item-space-unit-l);\n\n  & .stepper-item-icon {\n    @apply order-3 mt-px mb-0;\n    padding-inline-start: var(--calcite-internal-stepper-item-space-unit-s);\n    margin-inline-start: theme(\"margin.auto\");\n  }\n  & .stepper-item-header {\n    padding-inline-end: theme(\"padding.0\");\n  }\n  & .stepper-item-content {\n    @apply p-0;\n  }\n}\n\n:host([layout=\"vertical\"][complete]) .container {\n  border-color: var(--calcite-stepper-step-bar-complete-fill-color, #007ac280);\n}\n:host([layout=\"vertical\"][complete]:hover):not([selected]) .container,\n:host([layout=\"vertical\"][complete]:focus):not([selected]) .container {\n  border-color: var(--calcite-stepper-step-bar-complete-fill-color-hover, var(--calcite-color-brand));\n}\n:host([layout=\"vertical\"][error]) .container {\n  border-color: var(--calcite-stepper-step-bar-error-fill-color, var(--calcite-color-status-danger));\n}\n:host([layout=\"vertical\"][selected]) .container {\n  border-color: var(--calcite-stepper-step-bar-selected-fill-color, var(--calcite-color-brand));\n\n  & .stepper-item-content:not(:empty) {\n    margin-block-end: var(--calcite-internal-stepper-item-space-unit-l);\n  }\n}\n:host([layout=\"vertical\"]:hover):not([selected]) .container,\n:host([layout=\"vertical\"]:focus):not([selected]) .container {\n  border-color: var(--calcite-stepper-step-bar-fill-color-hover, #007ac280);\n}\n:host([layout=\"vertical\"][error]:hover:not([selected])) .container,\n:host([layout=\"vertical\"][error]:focus:not([selected])) .container {\n  border-color: var(--calcite-stepper-step-bar-error-fill-color-hover, var(--calcite-color-status-danger-hover));\n}\n\n:host([layout=\"horizontal\"]),\n:host([layout=\"horizontal-single\"]) {\n  display: contents;\n\n  .container {\n    display: contents;\n  }\n\n  .stepper-item-header {\n    @apply border-0\n    border-solid\n    focus-base;\n    grid-row: items;\n    border-block-start-width: var(--calcite-spacing-base);\n    &:focus {\n      @apply focus-outset duration-0;\n    }\n  }\n\n  .stepper-item-content {\n    @apply cursor-auto duration-150 ease-in-out;\n    padding-block: 0;\n    padding-inline-end: var(--calcite-internal-stepper-item-space-unit-m);\n    text-align: start;\n  }\n}\n\n:host([layout=\"vertical\"]) {\n  .stepper-item-header:focus {\n    @apply duration-0;\n  }\n}\n\n:host([layout=\"horizontal\"][disabled]),\n:host([layout=\"horizontal-single\"][disabled]) {\n  .stepper-item-header {\n    @extend %disabled-host-only;\n  }\n}\n\n:host([layout=\"horizontal\"]),\n:host([layout=\"horizontal-single\"]) {\n  .stepper-item-content {\n    grid-area: 2 / 1 / 2 / -1;\n  }\n}\n\n:host([layout=\"horizontal\"]) {\n  .stepper-item-header {\n    border-color: var(--calcite-stepper-step-bar-fill-color, var(--calcite-color-border-3));\n  }\n}\n\n:host([layout=\"horizontal\"][complete]) {\n  .stepper-item-header {\n    border-color: var(--calcite-stepper-step-bar-complete-fill-color, #007ac280);\n  }\n}\n\n:host([layout=\"horizontal\"][complete]:hover):not([selected]),\n:host([layout=\"horizontal\"][complete]:focus):not([selected]) {\n  .stepper-item-header {\n    border-color: var(--calcite-stepper-step-bar-complete-fill-color-hover, var(--calcite-color-brand));\n  }\n}\n\n:host([layout=\"horizontal\"][error]) {\n  .stepper-item-header {\n    border-color: var(--calcite-stepper-step-bar-error-fill-color, var(--calcite-color-status-danger));\n  }\n}\n\n:host([layout=\"horizontal\"][selected]) {\n  .stepper-item-header {\n    border-color: var(--calcite-stepper-step-bar-selected-fill-color, var(--calcite-color-brand));\n  }\n}\n\n:host([layout=\"horizontal\"]:hover):not([selected]),\n:host([layout=\"horizontal\"]:focus):not([selected]) {\n  .stepper-item-header {\n    border-color: var(--calcite-stepper-step-bar-fill-color-hover, #007ac280);\n  }\n}\n\n:host([layout=\"horizontal\"][error]:hover):not([selected]),\n:host([layout=\"horizontal\"][error]:focus):not([selected]) {\n  .stepper-item-header {\n    border-color: var(--calcite-stepper-step-bar-error-fill-color-hover, var(--calcite-color-status-danger-hover));\n  }\n}\n\n:host([layout=\"horizontal-single\"]) .stepper-item-header {\n  @apply border-none box-border\n  me-0;\n  grid-area: 1 / 1 / 1 / -1;\n  inline-size: var(--calcite-container-size-content-fluid);\n  padding-inline: calc(var(--calcite-internal-stepper-action-inline-size) + 0.5rem);\n}\n\n:host([layout=\"horizontal-single\"][error]) .container {\n  --calcite-internal-stepper-item-number-text-color: var(--calcite-color-status-danger);\n  --calcite-internal-stepper-item-icon-opacity: var(--calcite-opacity-full);\n  --calcite-internal-stepper-item-icon-color: var(--calcite-color-status-danger);\n}\n\n:host([layout=\"horizontal-single\"][error][selected]),\n:host([layout=\"horizontal-single\"][complete][selected]) .container {\n  --calcite-internal-stepper-item-heading-text-color: var(--calcite-color-text-2);\n}\n\n:host([layout=\"horizontal-single\"][complete][selected]) .container {\n  --calcite-internal-stepper-item-icon-opacity: var(--calcite-opacity-disabled);\n  --calcite-internal-stepper-item-number-text-color: var(--calcite-color-text-3);\n}\n\n@media (forced-colors: active) {\n  :host .container {\n    outline-width: 0;\n    outline-offset: 0;\n  }\n\n  :host(:focus),\n  :host(:focus-visible) {\n    outline-color: canvasText;\n  }\n\n  :host([selected]) .container {\n    border-block-start-color: highlight;\n    & .stepper-item-number {\n      color: highlight;\n    }\n    & .stepper-item-icon {\n      color: highlight;\n    }\n  }\n\n  :host([layout=\"vertical\"][selected]) .container {\n    border-color: highlight;\n  }\n}\n\n.visually-hidden {\n  @apply sr-only;\n}\n\n@include base-component();\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  State,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport { Scale } from \"../interfaces\";\nimport {\n  connectInteractive,\n  disconnectInteractive,\n  InteractiveComponent,\n  InteractiveContainer,\n  updateHostInteraction,\n} from \"../../utils/interactive\";\nimport {\n  StepperItemChangeEventDetail,\n  StepperItemEventDetail,\n  StepperItemKeyEventDetail,\n  StepperLayout,\n} from \"../stepper/interfaces\";\nimport {\n  numberStringFormatter,\n  LocalizedComponent,\n  disconnectLocalized,\n  connectLocalized,\n  NumberingSystem,\n} from \"../../utils/locale\";\nimport {\n  setUpLoadableComponent,\n  setComponentLoaded,\n  LoadableComponent,\n  componentFocusable,\n} from \"../../utils/loadable\";\nimport {\n  connectMessages,\n  disconnectMessages,\n  setUpMessages,\n  T9nComponent,\n  updateMessages,\n} from \"../../utils/t9n\";\nimport { CSS } from \"./resources\";\nimport { StepperItemMessages } from \"./assets/stepper-item/t9n\";\n\n/**\n * @slot - A slot for adding custom content.\n */\n@Component({\n  tag: \"calcite-stepper-item\",\n  styleUrl: \"stepper-item.scss\",\n  shadow: true,\n  assetsDirs: [\"assets\"],\n})\nexport class StepperItem\n  implements InteractiveComponent, LocalizedComponent, LoadableComponent, T9nComponent\n{\n  //--------------------------------------------------------------------------\n  //\n  //  Public Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * When `true`, the component is selected.\n   */\n  @Prop({ reflect: true, mutable: true }) selected = false;\n\n  @Watch(\"selected\")\n  selectedHandler(): void {\n    if (this.selected) {\n      this.emitRequestedItem();\n    }\n  }\n\n  /** When `true`, the step has been completed. */\n  @Prop({ reflect: true }) complete = false;\n\n  /** When `true`, the component contains an error that requires resolution from the user. */\n  @Prop({ reflect: true }) error = false;\n\n  /** When `true`, interaction is prevented and the component is displayed with lower opacity. */\n  @Prop({ reflect: true }) disabled = false;\n\n  /** The component header text. */\n  @Prop() heading: string;\n\n  /** A description for the component. Displays below the header text. */\n  @Prop() description: string;\n\n  /** When `true`, the icon will be flipped when the element direction is right-to-left (`\"rtl\"`). */\n  @Prop({ reflect: true }) iconFlipRtl = false;\n\n  /**\n   * @internal\n   */\n  @Prop() numberingSystem: NumberingSystem;\n\n  // watch for removal of disabled to register step\n  @Watch(\"disabled\")\n  disabledWatcher(): void {\n    this.registerStepperItem();\n  }\n\n  /**\n   * When `true`, displays a status icon in the `calcite-stepper-item` heading inherited from parent `calcite-stepper`.\n   *\n   * @internal\n   */\n  @Prop() icon = false;\n\n  /**\n   * Specifies the layout of the `calcite-stepper-item` inherited from parent `calcite-stepper`, defaults to `horizontal`.\n   *\n   * @internal\n   */\n  @Prop({ reflect: true }) layout: StepperLayout;\n\n  /**\n   * Made into a prop for testing purposes only\n   *\n   * @internal\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messages: StepperItemMessages;\n\n  /**\n   * When `true`, displays the step number in the `calcite-stepper-item` heading inherited from parent `calcite-stepper`.\n   *\n   * @internal\n   */\n  @Prop() numbered = false;\n\n  /**\n   * Specifies the size of the component inherited from the `calcite-stepper`, defaults to `m`.\n   *\n   * @internal\n   */\n  @Prop({ reflect: true }) scale: Scale = \"m\";\n\n  /**\n   * Use this property to override individual strings used by the component.\n   */\n  // eslint-disable-next-line @stencil-community/strict-mutable -- updated by t9n module\n  @Prop({ mutable: true }) messageOverrides: Partial<StepperItemMessages>;\n\n  @Watch(\"messageOverrides\")\n  onMessagesChange(): void {\n    /* wired up by t9n util */\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Internal State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @State() defaultMessages: StepperItemMessages;\n\n  @State() effectiveLocale = \"\";\n\n  @Watch(\"effectiveLocale\")\n  effectiveLocaleWatcher(locale: string): void {\n    numberStringFormatter.numberFormatOptions = {\n      locale,\n      numberingSystem: this.numberingSystem,\n      useGrouping: false,\n    };\n    updateMessages(this, this.effectiveLocale);\n  }\n\n  headerEl: HTMLDivElement;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false })\n  calciteInternalStepperItemKeyEvent: EventEmitter<StepperItemKeyEventDetail>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false })\n  calciteInternalStepperItemSelect: EventEmitter<StepperItemEventDetail>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false })\n  calciteInternalUserRequestedStepperItemSelect: EventEmitter<StepperItemChangeEventDetail>;\n\n  /**\n   * @internal\n   */\n  @Event({ cancelable: false })\n  calciteInternalStepperItemRegister: EventEmitter<StepperItemEventDetail>;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  connectedCallback(): void {\n    connectInteractive(this);\n    connectLocalized(this);\n    connectMessages(this);\n  }\n\n  async componentWillLoad(): Promise<void> {\n    setUpLoadableComponent(this);\n    this.parentStepperEl = this.el.parentElement as HTMLCalciteStepperElement;\n    this.itemPosition = this.getItemPosition();\n    this.registerStepperItem();\n\n    if (this.selected) {\n      this.emitRequestedItem();\n    }\n    await setUpMessages(this);\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n  }\n\n  componentDidRender(): void {\n    updateHostInteraction(this);\n  }\n\n  disconnectedCallback(): void {\n    disconnectInteractive(this);\n    disconnectLocalized(this);\n    disconnectMessages(this);\n  }\n\n  render(): VNode {\n    return (\n      <Host\n        aria-current={this.selected ? \"step\" : \"false\"}\n        onClick={this.handleItemClick}\n        onKeyDown={this.keyDownHandler}\n        tabIndex={this.disabled ? -1 : 0}\n      >\n        <InteractiveContainer disabled={this.disabled}>\n          <div class={CSS.container}>\n            {this.complete && (\n              <span aria-live=\"polite\" class={CSS.visuallyHidden}>\n                {this.messages.complete}\n              </span>\n            )}\n            <div\n              class={CSS.stepperItemHeader}\n              ref={(el) => (this.headerEl = el)}\n              tabIndex={\n                /* additional tab index logic needed because of display: contents */\n                this.layout === \"horizontal\" && !this.disabled ? 0 : null\n              }\n            >\n              {this.icon ? this.renderIcon() : null}\n              {this.numbered ? (\n                <div class={CSS.stepperItemNumber}>{this.renderNumbers()}.</div>\n              ) : null}\n              <div class={CSS.stepperItemHeaderText}>\n                <span class={CSS.stepperItemHeading}>{this.heading}</span>\n                <span class={CSS.stepperItemDescription}>{this.description}</span>\n              </div>\n            </div>\n            <div class={CSS.stepperItemContent}>\n              <slot />\n            </div>\n          </div>\n        </InteractiveContainer>\n      </Host>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"calciteInternalStepperItemChange\", { target: \"body\" })\n  updateActiveItemOnChange(event: CustomEvent<StepperItemChangeEventDetail>): void {\n    if (\n      event.target === this.parentStepperEl ||\n      event.composedPath().includes(this.parentStepperEl)\n    ) {\n      this.selectedPosition = event.detail.position;\n      this.determineSelectedItem();\n    }\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /** Sets focus on the component. */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n\n    (this.layout === \"vertical\" ? this.el : this.headerEl)?.focus();\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private State/Props\n  //\n  //--------------------------------------------------------------------------\n\n  @Element() el: HTMLCalciteStepperItemElement;\n\n  /** position within parent */\n  private itemPosition: number;\n\n  /** the latest requested item position*/\n  private selectedPosition: number;\n\n  /** the parent stepper component */\n  private parentStepperEl: HTMLCalciteStepperElement;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  private keyDownHandler = (event: KeyboardEvent): void => {\n    if (!this.disabled && event.target === this.el) {\n      switch (event.key) {\n        case \" \":\n        case \"Enter\":\n          this.emitUserRequestedItem();\n          event.preventDefault();\n          break;\n        case \"ArrowUp\":\n        case \"ArrowDown\":\n        case \"ArrowLeft\":\n        case \"ArrowRight\":\n        case \"Home\":\n        case \"End\":\n          this.calciteInternalStepperItemKeyEvent.emit({ item: event });\n          event.preventDefault();\n          break;\n      }\n    }\n  };\n\n  private renderIcon(): VNode {\n    let path = \"circle\";\n\n    if (this.selected && (this.layout !== \"horizontal-single\" || (!this.error && !this.complete))) {\n      path = \"circleF\";\n    } else if (this.error) {\n      path = \"exclamationMarkCircleF\";\n    } else if (this.complete) {\n      path = \"checkCircleF\";\n    }\n\n    return (\n      <calcite-icon class=\"stepper-item-icon\" flipRtl={this.iconFlipRtl} icon={path} scale=\"s\" />\n    );\n  }\n\n  private determineSelectedItem(): void {\n    this.selected = !this.disabled && this.itemPosition === this.selectedPosition;\n  }\n\n  private registerStepperItem(): void {\n    this.calciteInternalStepperItemRegister.emit({\n      position: this.itemPosition,\n    });\n  }\n\n  private handleItemClick = (event: MouseEvent): void => {\n    if (\n      this.disabled ||\n      (this.layout === \"horizontal\" &&\n        event\n          .composedPath()\n          .some((el) => (el as HTMLElement).classList?.contains(\"stepper-item-content\")))\n    ) {\n      return;\n    }\n\n    this.emitUserRequestedItem();\n  };\n\n  private emitUserRequestedItem = (): void => {\n    this.emitRequestedItem();\n    if (!this.disabled) {\n      const position = this.itemPosition;\n\n      this.calciteInternalUserRequestedStepperItemSelect.emit({\n        position,\n      });\n    }\n  };\n\n  private emitRequestedItem = (): void => {\n    if (!this.disabled) {\n      const position = this.itemPosition;\n\n      this.calciteInternalStepperItemSelect.emit({\n        position,\n      });\n    }\n  };\n\n  private getItemPosition(): number {\n    return Array.from(this.parentStepperEl?.querySelectorAll(\"calcite-stepper-item\")).indexOf(\n      this.el,\n    );\n  }\n\n  renderNumbers(): string {\n    numberStringFormatter.numberFormatOptions = {\n      locale: this.effectiveLocale,\n      numberingSystem: this.numberingSystem,\n      useGrouping: false,\n    };\n    return numberStringFormatter.numberFormatter.format(this.itemPosition + 1);\n  }\n}\n"],"mappings":"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"}