{"version":3,"names":["CSS","scrim","container","containerOpen","content","containerSlottedInShell","sheetCss","CalciteSheetStyle0","Sheet","this","openTransitionProp","ignoreOpenChange","mutationObserver","createObserver","handleMutationObserver","setTransitionEl","el","transitionEl","contentId","ensureId","openEnd","setFocus","removeEventListener","handleOutsideClose","outsideCloseDisabled","open","closeSheet","async","beforeClose","_error","requestAnimationFrame","opened","removeOverflowHiddenClass","handleFocusTrapDisabled","focusTrapDisabled","deactivateFocusTrap","activateFocusTrap","toggleSheet","value","openSheet","handleOpenedChange","onToggleOpenCloseComponent","componentWillLoad","setUpLoadableComponent","componentDidLoad","setComponentLoaded","connectedCallback","observe","childList","subtree","connectFocusTrap","disconnectedCallback","disconnect","slottedInShell","render","dir","getElementDir","h","Host","key","label","role","class","CSS_UTILITY","rtl","onClick","ref","handleEscape","event","escapeDisabled","defaultPrevented","preventDefault","componentFocusable","focusFirstTabbable","updateFocusTrapElements","onBeforeOpen","calciteSheetBeforeOpen","emit","onOpen","calciteSheetOpen","onBeforeClose","calciteSheetBeforeClose","onClose","calciteSheetClose","addEventListener","initialOverflowCSS","document","documentElement","style","overflow","setProperty"],"sources":["src/components/sheet/resources.ts","src/components/sheet/sheet.scss?tag=calcite-sheet&encapsulation=shadow","src/components/sheet/sheet.tsx"],"sourcesContent":["export const CSS = {\n  scrim: \"scrim\",\n  container: \"container\",\n  containerOpen: \"container--open\",\n  content: \"content\",\n  containerSlottedInShell: \"container--slotted-in-shell\",\n};\n","/**\n * CSS Custom Properties\n *\n * These properties can be overridden using the component's tag as selector.\n *\n * @prop --calcite-sheet-scrim-background: [Deprecated] use `--calcite-sheet-scrim-background-color` instead. Specifies the background color of the sheet scrim.\n * @prop --calcite-sheet-scrim-background-color: Specifies the background color of the sheet scrim.\n * @prop --calcite-sheet-background-color: Specifies the background color of the sheet.\n * @prop --calcite-sheet-shadow: Specifies the shadow of the sheet.\n * @prop --calcite-sheet-width: [Deprecated] Use `--calcite-sheet-content-width`.\n * @prop --calcite-sheet-max-width: [Deprecated] Use `--calcite-sheet-content-max-width`.\n * @prop --calcite-sheet-min-width: [Deprecated] Use `--calcite-sheet-content-min-width`.\n * @prop --calcite-sheet-height: [Deprecated] Use `--calcite-sheet-content-height`.\n * @prop --calcite-sheet-max-height: [Deprecated] Use `--calcite-sheet-content-max-height`.\n * @prop --calcite-sheet-min-height: [Deprecated] Use `--calcite-sheet-content-min-height`.\n * @prop --calcite-sheet-content-width: When `position` is `\"inline-start\"` or `\"inline-end\"`, specifies the width of the component.\n * @prop --calcite-sheet-content-max-width: When `position` is `\"inline-start\"` or `\"inline-end\"`, specifies the maximum width of the component.\n * @prop --calcite-sheet-content-min-width: When `position` is `\"inline-start\"` or `\"inline-end\"`, specifies the minimum width of the component.\n * @prop --calcite-sheet-content-height:  When `position` is `\"block-start\"` or `\"block-end\"`, specifies the height of the component.\n * @prop --calcite-sheet-content-max-height:  When `position` is `\"block-start\"` or `\"block-end\"`, specifies the maximum height of the component.\n * @prop --calcite-sheet-content-min-height:  When `position` is `\"block-start\"` or `\"block-end\"`, specifies the minimum height of the component.\n * @prop --calcite-sheet-corner-radius: Specifies the corner radius of the sheet.\n *\n */\n\n:host {\n  @apply flex absolute z-overlay inset-0;\n  visibility: hidden !important;\n}\n\n.container {\n  @apply fixed\n    flex\n    overflow-y-hidden\n    opacity-0\n    z-overlay\n    invisible;\n  border-radius: var(\n    --calcite-sheet-corner-radius,\n    var(--calcite-internal-sheet-corner-radius, var(--calcite-corner-radius))\n  );\n  box-shadow: var(--calcite-sheet-shadow, var(--calcite-internal-sheet-shadow));\n  transition:\n    visibility 0ms linear var(--calcite-internal-animation-timing-medium),\n    opacity var(--calcite-internal-animation-timing-medium) $easing-function;\n}\n\n.content {\n  @apply relative box-border block p-0 z-modal overflow-y-hidden;\n  border-radius: var(\n    --calcite-sheet-corner-radius,\n    var(--calcite-internal-sheet-corner-radius, var(--calcite-corner-radius))\n  );\n  max-inline-size: var(--calcite-container-size-content-fluid);\n  background-color: var(--calcite-sheet-background-color, var(--calcite-color-foreground-1));\n  max-block-size: var(--calcite-container-size-content-fluid);\n  visibility: hidden;\n  transition:\n    transform var(--calcite-internal-animation-timing-medium) $easing-function,\n    visibility 0ms linear var(--calcite-internal-animation-timing-medium),\n    opacity var(--calcite-internal-animation-timing-medium) $easing-function;\n  transform: var(--calcite-sheet-hidden-position-internal);\n}\n\n.container--open {\n  @apply visible;\n  opacity: var(--calcite-opacity-full);\n  transition-delay: 0ms;\n\n  .content {\n    @apply pointer-events-auto visible;\n    opacity: var(--calcite-opacity-full);\n    transition:\n      transform var(--calcite-internal-animation-timing-medium) $easing-function,\n      visibility 0ms linear,\n      opacity var(--calcite-internal-animation-timing-medium) $easing-function,\n      max-inline-size var(--calcite-internal-animation-timing-medium) $easing-function,\n      max-block-size var(--calcite-internal-animation-timing-medium) $easing-function;\n    transition-delay: 0ms;\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n.scrim {\n  // the sheet should always use a dark scrim, regardless of light / dark mode - matches value in global.scss\n  --calcite-scrim-background-color: var(\n    --calcite-sheet-scrim-background-color,\n    var(--calcite-sheet-scrim-background, #{rgba($blk-240, 0.85)})\n  );\n  @apply fixed inset-0 flex overflow-y-hidden;\n}\n\n:host([position=\"inline-start\"]) .container {\n  @apply justify-start;\n  inset-block: 0;\n  inset-inline: 0 auto;\n  --calcite-sheet-hidden-position-internal: translate3d(-1rem, 0, 0);\n}\n\n:host([position=\"inline-end\"]) .container {\n  @apply justify-end;\n  inset-block: 0;\n  inset-inline: auto 0;\n  --calcite-sheet-hidden-position-internal: translate3d(1rem, 0, 0);\n}\n\n:host([position=\"block-start\"]) .container {\n  @apply items-start;\n  inset-block: 0 auto;\n  inset-inline: 0;\n  --calcite-sheet-hidden-position-internal: translate3d(0, -1rem, 0);\n}\n\n:host([position=\"block-end\"]) .container {\n  @apply items-end;\n  inset-block: auto 0;\n  inset-inline: 0;\n  --calcite-sheet-hidden-position-internal: translate3d(0, 1rem, 0);\n}\n\n:host([display-mode=\"float\"]) .content {\n  --calcite-internal-sheet-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000),\n    0 2px 12px -4px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.16);\n}\n\n:host([display-mode=\"overlay\"][position=\"inline-start\"]) .container {\n  --calcite-internal-sheet-shadow: 4px 0 8px -1px rgba(0, 0, 0, 0.08), 2px 0 4px -1px rgba(0, 0, 0, 0.04);\n\n  &.calcite--rtl {\n    --calcite-internal-sheet-shadow: -4px 0 8px -1px rgba(0, 0, 0, 0.08), -2px 0 4px -1px rgba(0, 0, 0, 0.04);\n  }\n}\n\n:host([display-mode=\"overlay\"][position=\"inline-end\"]) .container {\n  --calcite-internal-sheet-shadow: -4px 0 8px -1px rgba(0, 0, 0, 0.08), -2px 0 4px -1px rgba(0, 0, 0, 0.04);\n\n  &.calcite--rtl {\n    --calcite-internal-sheet-shadow: 4px 0 8px -1px rgba(0, 0, 0, 0.08), 2px 0 4px -1px rgba(0, 0, 0, 0.04);\n  }\n}\n\n:host([display-mode=\"overlay\"][position=\"block-start\"]) .container {\n  --calcite-internal-sheet-shadow: 0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);\n}\n\n:host([display-mode=\"overlay\"][position=\"block-end\"]) .container {\n  --calcite-internal-sheet-shadow: 0 -4px 8px -1px rgba(0, 0, 0, 0.08), 0 -2px 4px -1px rgba(0, 0, 0, 0.04);\n}\n\n:host([position^=\"inline\"]) .container,\n:host([position^=\"inline\"]) .content {\n  inline-size: var(--calcite-sheet-content-width, var(--calcite-internal-sheet-content-width));\n  max-inline-size: var(--calcite-sheet-content-max-width, var(--calcite-internal-sheet-content-max-width));\n  min-inline-size: var(--calcite-sheet-content-min-width, var(--calcite-internal-sheet-content-min-width));\n}\n\n:host([position^=\"block\"]) .container,\n:host([position^=\"block\"]) .content {\n  block-size: var(--calcite-sheet-content-height, var(--calcite-internal-sheet-content-height));\n  max-block-size: var(--calcite-sheet-content-max-height, var(--calcite-internal-sheet-content-max-height));\n  min-block-size: var(--calcite-sheet-content-min-height, var(--calcite-internal-sheet-content-min-height));\n}\n\n:host([display-mode=\"float\"][position^=\"inline\"]) .container {\n  --calcite-internal-sheet-content-height: calc(100% - 1.5rem);\n  --calcite-internal-sheet-content-max-height: calc(100% - 1.5rem);\n  --calcite-internal-sheet-content-min-height: calc(100% - 1.5rem);\n}\n:host([display-mode=\"float\"][position^=\"block\"]) .container {\n  --calcite-internal-sheet-content-width: calc(100% - 1.5rem);\n  --calcite-internal-sheet-content-max-width: calc(100% - 1.5rem);\n  --calcite-internal-sheet-content-min-width: calc(100% - 1.5rem);\n}\n\n:host([position^=\"inline\"][width-scale=\"s\"]) {\n  --calcite-internal-sheet-content-width: 15vw;\n  --calcite-internal-sheet-content-max-width: 360px;\n  --calcite-internal-sheet-content-min-width: 260px;\n}\n\n:host([position^=\"inline\"][width-scale=\"m\"]) {\n  --calcite-internal-sheet-content-width: 25vw;\n  --calcite-internal-sheet-content-max-width: 420px;\n  --calcite-internal-sheet-content-min-width: 300px;\n}\n\n:host([position^=\"inline\"][width-scale=\"l\"]) {\n  --calcite-internal-sheet-content-width: 45vw;\n  --calcite-internal-sheet-content-max-width: 680px;\n  --calcite-internal-sheet-content-min-width: 340px;\n}\n\n:host([position^=\"block\"][height-scale=\"s\"]) {\n  --calcite-internal-sheet-content-min-height: 160px;\n  --calcite-internal-sheet-content-height: 30vh;\n  --calcite-internal-sheet-content-max-height: 30vh;\n}\n\n:host([position^=\"block\"][height-scale=\"m\"]) {\n  --calcite-internal-sheet-content-min-height: 200px;\n  --calcite-internal-sheet-content-height: 45vh;\n  --calcite-internal-sheet-content-max-height: 50vh;\n}\n\n:host([position^=\"block\"][height-scale=\"l\"]) {\n  --calcite-internal-sheet-content-min-height: 240px;\n  --calcite-internal-sheet-content-height: 60vh;\n  --calcite-internal-sheet-content-max-height: 70vh;\n}\n\n:host([opened]) {\n  visibility: visible !important;\n}\n\n:host([display-mode=\"float\"]) .content,\n:host([display-mode=\"float\"]) .container {\n  --calcite-internal-sheet-corner-radius: var(--calcite-corner-radius-round);\n}\n\n:host([display-mode=\"float\"]) .container {\n  @apply p-3;\n}\n\n:host([position=\"inline-start\"]) .content,\n:host([position=\"inline-end\"]) .content {\n  --calcite-internal-sheet-content-height: var(--calcite-container-size-content-fluid);\n}\n\n:host([position=\"block-start\"]) .content,\n:host([position=\"block-end\"]) .content {\n  --calcite-internal-sheet-content-width: var(--calcite-container-size-content-fluid);\n}\n\n/**\n * Conditional styles for when Sheet is slotted in Shell\n */\n:host([position]) .container--slotted-in-shell {\n  @apply absolute pointer-events-auto;\n  inline-size: var(--calcite-container-size-content-fluid);\n  max-inline-size: var(--calcite-container-size-content-fluid);\n  min-inline-size: var(--calcite-container-size-content-fluid);\n  block-size: var(--calcite-container-size-content-fluid);\n  max-block-size: var(--calcite-container-size-content-fluid);\n  min-block-size: var(--calcite-container-size-content-fluid);\n  calcite-scrim {\n    @apply absolute;\n  }\n}\n\n@include base-component();\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  VNode,\n  Watch,\n} from \"@stencil/core\";\nimport { ensureId, focusFirstTabbable, getElementDir } from \"../../utils/dom\";\nimport {\n  activateFocusTrap,\n  connectFocusTrap,\n  deactivateFocusTrap,\n  FocusTrap,\n  FocusTrapComponent,\n  updateFocusTrapElements,\n} from \"../../utils/focusTrapComponent\";\nimport {\n  componentFocusable,\n  LoadableComponent,\n  setComponentLoaded,\n  setUpLoadableComponent,\n} from \"../../utils/loadable\";\nimport { createObserver } from \"../../utils/observers\";\nimport { onToggleOpenCloseComponent, OpenCloseComponent } from \"../../utils/openCloseComponent\";\nimport { LogicalFlowPosition, Scale } from \"../interfaces\";\nimport { CSS_UTILITY } from \"../../utils/resources\";\nimport { CSS } from \"./resources\";\nimport { DisplayMode } from \"./interfaces\";\n\n@Component({\n  tag: \"calcite-sheet\",\n  styleUrl: \"sheet.scss\",\n  shadow: true,\n})\nexport class Sheet implements OpenCloseComponent, FocusTrapComponent, LoadableComponent {\n  //--------------------------------------------------------------------------\n  //\n  //  Properties\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   *  Passes a function to run before the component closes.\n   *\n   * @returns {Promise<void>}\n   */\n  @Prop() beforeClose: (el: HTMLCalciteSheetElement) => Promise<void>;\n\n  /**\n   * Specifies the display mode - `\"float\"` (content is separated detached),\n   * or `\"overlay\"` (displays on top of center content).\n   */\n  @Prop({ reflect: true }) displayMode: DisplayMode = \"overlay\";\n\n  /** When `true`, disables the default close on escape behavior. */\n  @Prop({ reflect: true }) escapeDisabled = false;\n\n  /**\n   * When `position` is `\"block-start\"` or `\"block-end\"`, specifies the height of the component.\n   */\n  @Prop({ reflect: true }) heightScale: Scale = \"m\";\n\n  /**\n   * When `true`, prevents focus trapping.\n   */\n  @Prop({ reflect: true }) focusTrapDisabled = false;\n\n  @Watch(\"focusTrapDisabled\")\n  handleFocusTrapDisabled(focusTrapDisabled: boolean): void {\n    if (!this.open) {\n      return;\n    }\n\n    focusTrapDisabled ? deactivateFocusTrap(this) : activateFocusTrap(this);\n  }\n\n  /**\n   * Specifies the label of the component.\n   */\n  @Prop() label!: string;\n\n  /** When `true`, displays and positions the component.  */\n  @Prop({ mutable: true, reflect: true }) open = false;\n\n  @Watch(\"open\")\n  toggleSheet(value: boolean): void {\n    if (this.ignoreOpenChange) {\n      return;\n    }\n\n    if (value) {\n      this.openSheet();\n    } else {\n      this.closeSheet();\n    }\n  }\n\n  @Watch(\"opened\")\n  handleOpenedChange(): void {\n    onToggleOpenCloseComponent(this);\n  }\n\n  /**\n   * We use an internal property to handle styles for when a modal is actually opened, not just when the open attribute is applied. This is a property because we need to apply styles to the host element and to keep the styles present while beforeClose is .\n   *\n   * @internal.\n   */\n  @Prop({ mutable: true, reflect: true }) opened = false;\n\n  /** When `true`, disables the closing of the component when clicked outside. */\n  @Prop({ reflect: true }) outsideCloseDisabled = false;\n\n  /** Determines where the component will be positioned. */\n  @Prop({ reflect: true }) position: LogicalFlowPosition = \"inline-start\";\n\n  /**\n   * This internal property, managed by a containing calcite-shell, is used\n   * to inform the component if special configuration or styles are needed\n   *\n   * @internal\n   */\n  @Prop() slottedInShell: boolean;\n\n  /**\n   * When `position` is `\"inline-start\"` or `\"inline-end\"`, specifies the width of the component.\n   */\n  @Prop({ reflect: true }) widthScale: Scale = \"m\";\n\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n\n  async componentWillLoad(): Promise<void> {\n    setUpLoadableComponent(this);\n    // when sheet initially renders, if active was set we need to open as watcher doesn't fire\n    if (this.open) {\n      requestAnimationFrame(() => this.openSheet());\n    }\n  }\n\n  componentDidLoad(): void {\n    setComponentLoaded(this);\n  }\n\n  connectedCallback(): void {\n    this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n    connectFocusTrap(this);\n  }\n\n  disconnectedCallback(): void {\n    this.removeOverflowHiddenClass();\n    this.mutationObserver?.disconnect();\n    deactivateFocusTrap(this);\n    this.slottedInShell = false;\n  }\n\n  render(): VNode {\n    const dir = getElementDir(this.el);\n    return (\n      <Host\n        aria-describedby={this.contentId}\n        aria-label={this.label}\n        aria-modal=\"true\"\n        role=\"dialog\"\n      >\n        <div\n          class={{\n            [CSS.container]: true,\n            [CSS.containerOpen]: this.opened,\n            [CSS.containerSlottedInShell]: this.slottedInShell,\n            [CSS_UTILITY.rtl]: dir === \"rtl\",\n          }}\n        >\n          <calcite-scrim class={CSS.scrim} onClick={this.handleOutsideClose} />\n          <div\n            class={{\n              [CSS.content]: true,\n            }}\n            ref={this.setTransitionEl}\n          >\n            <slot />\n          </div>\n        </div>\n      </Host>\n    );\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Properties/ State\n  //\n  //--------------------------------------------------------------------------\n\n  openTransitionProp = \"opacity\";\n\n  transitionEl: HTMLDivElement;\n\n  focusTrap: FocusTrap;\n\n  @Element() el: HTMLCalciteSheetElement;\n\n  private contentId: string;\n\n  private initialOverflowCSS: string;\n\n  private ignoreOpenChange = false;\n\n  private mutationObserver: MutationObserver = createObserver(\"mutation\", () =>\n    this.handleMutationObserver(),\n  );\n\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n\n  @Listen(\"keydown\", { target: \"window\" })\n  handleEscape(event: KeyboardEvent): void {\n    if (this.open && !this.escapeDisabled && event.key === \"Escape\" && !event.defaultPrevented) {\n      this.open = false;\n      event.preventDefault();\n    }\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  //--------------------------------------------------------------------------\n\n  /** Fires when the component is requested to be closed and before the closing transition begins. */\n  @Event({ cancelable: false }) calciteSheetBeforeClose: EventEmitter<void>;\n\n  /** Fires when the component is closed and animation is complete. */\n  @Event({ cancelable: false }) calciteSheetClose: EventEmitter<void>;\n\n  /** Fires when the component is added to the DOM but not rendered, and before the opening transition begins. */\n  @Event({ cancelable: false }) calciteSheetBeforeOpen: EventEmitter<void>;\n\n  /** Fires when the component is open and animation is complete. */\n  @Event({ cancelable: false }) calciteSheetOpen: EventEmitter<void>;\n\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n\n  /**\n   * Sets focus on the component's \"close\" button - the first focusable item.\n   *\n   */\n  @Method()\n  async setFocus(): Promise<void> {\n    await componentFocusable(this);\n    focusFirstTabbable(this.el);\n  }\n\n  /**\n   * Updates the element(s) that are used within the focus-trap of the component.\n   */\n  @Method()\n  async updateFocusTrapElements(): Promise<void> {\n    updateFocusTrapElements(this);\n  }\n\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n\n  onBeforeOpen(): void {\n    this.calciteSheetBeforeOpen.emit();\n  }\n\n  onOpen(): void {\n    this.calciteSheetOpen.emit();\n    activateFocusTrap(this);\n  }\n\n  onBeforeClose(): void {\n    this.calciteSheetBeforeClose.emit();\n  }\n\n  onClose(): void {\n    this.calciteSheetClose.emit();\n    deactivateFocusTrap(this);\n  }\n\n  private setTransitionEl = (el: HTMLDivElement): void => {\n    this.transitionEl = el;\n    this.contentId = ensureId(el);\n  };\n\n  private openEnd = (): void => {\n    this.setFocus();\n    this.el.removeEventListener(\"calciteSheetOpen\", this.openEnd);\n  };\n\n  private openSheet(): void {\n    this.el.addEventListener(\"calciteSheetOpen\", this.openEnd);\n    this.opened = true;\n    if (!this.slottedInShell) {\n      this.initialOverflowCSS = document.documentElement.style.overflow;\n      // use an inline style instead of a utility class to avoid global class declarations.\n      document.documentElement.style.setProperty(\"overflow\", \"hidden\");\n    }\n  }\n\n  private handleOutsideClose = (): void => {\n    if (this.outsideCloseDisabled) {\n      return;\n    }\n\n    this.open = false;\n  };\n\n  private closeSheet = async (): Promise<void> => {\n    if (this.beforeClose) {\n      try {\n        await this.beforeClose(this.el);\n      } catch (_error) {\n        // close prevented\n        requestAnimationFrame(() => {\n          this.ignoreOpenChange = true;\n          this.open = true;\n          this.ignoreOpenChange = false;\n        });\n        return;\n      }\n    }\n\n    this.opened = false;\n    this.removeOverflowHiddenClass();\n  };\n\n  private removeOverflowHiddenClass(): void {\n    document.documentElement.style.setProperty(\"overflow\", this.initialOverflowCSS);\n  }\n\n  private handleMutationObserver(): void {\n    this.updateFocusTrapElements();\n  }\n}\n"],"mappings":"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"}