// theme variables
// light theme
:host {
  --calcite-switch-hover-handle-border: theme("backgroundColor.brand");
  --calcite-switch-switched-track-background: theme("backgroundColor.brand");
  --calcite-switch-switched-track-border: theme("backgroundColor.brand");
  --calcite-switch-switched-handle-border: theme("backgroundColor.brand");
  --calcite-switch-switched-hover-track-background: theme("backgroundColor.brand");
  --calcite-switch-switched-hover-track-border: theme("backgroundColor.brand");
  --calcite-switch-switched-hover-handle-border: theme("backgroundColor.brand-hover");
}

// sizes
:host([scale="s"]) {
  --calcite-switch-track-width: theme("spacing.6");
  --calcite-switch-track-height: theme("spacing.4");
  --calcite-switch-handle-size: theme("spacing.3");
}

:host([scale="m"]) {
  --calcite-switch-track-width: 36px;
  --calcite-switch-track-height: theme("spacing.5");
  --calcite-switch-handle-size: 18px;
}

:host([scale="l"]) {
  --calcite-switch-track-width: theme("spacing.12");
  --calcite-switch-track-height: theme("spacing.6");
  --calcite-switch-handle-size: theme("spacing.5");
}

::slotted(input) {
  @apply hidden;
}

:host {
  @apply inline-block 
    relative 
    w-auto 
    cursor-pointer 
    select-none 
    align-middle;
  tap-highlight-color: transparent;
}

:host([disabled]) {
  @apply opacity-disabled pointer-events-auto cursor-default;
}
// focus styles
:host {
  @apply focus-base w-auto;
}

:host(:focus) {
  @apply focus-outset;
}

.track {
  @apply relative 
    inline-block 
    align-top 
    bg-foreground-2 
    border 
    border-solid 
    border-color-2 
    pointer-events-auto
    transition-default;
  width: var(--calcite-switch-track-width);
  height: var(--calcite-switch-track-height);
  border-radius: 30px;
}

.handle {
  @apply absolute 
    block 
    right-auto 
    bg-foreground-1 
    border-2 
    border-solid 
    border-color-input
    transition-default;
  width: var(--calcite-switch-handle-size);
  height: var(--calcite-switch-handle-size);
  top: -1px;
  left: -1px;
  border-radius: 30px;
}

:host(:hover),
:host(:focus) {
  .handle {
    border-color: var(--calcite-switch-hover-handle-border);
    box-shadow: inset 0 0 0 1px var(--calcite-switch-hover-handle-border);
    @apply right-auto;
  }
}

:host([switched]) {
  .track {
    background-color: var(--calcite-switch-switched-track-background);
    border-color: var(--calcite-switch-switched-track-border);
  }
  .handle {
    @apply left-auto;
    right: -1px;
    border-color: var(--calcite-switch-switched-handle-border);
  }
}

:host([switched]:hover) {
  .track {
    background-color: var(--calcite-switch-switched-hover-track-background);
    border-color: var(--calcite-switch-switched-hover-track-border);
  }
  .handle {
    border-color: var(--calcite-switch-switched-hover-handle-border);
    box-shadow: inset 0 0 0 1px var(--calcite-switch-switched-hover-handle-border);
  }
}

// rtl
:host([dir="rtl"]) {
  @apply mr-0 ml-2;
  & .handle {
    @apply left-auto;
    right: -1px;
  }
}

:host([dir="rtl"][switched]) .handle {
  @apply right-auto;
  left: -1px;
}

:host([dir="rtl"][switched]:active) .handle,
:host([dir="rtl"][switched]:focus) .handle {
  @apply right-auto;
  left: -1px;
}
