:host {
  @apply block flex-initial outline-none;
  margin-inline-start: theme("margin.0");
  margin-inline-end: theme("margin.5");
}

:host([layout="center"]) {
  @apply my-0 mx-5 text-center;
  flex-basis: theme("spacing.48");
  margin: auto;
}

:host([position="bottom"]) .container {
  @apply border-t-color-transparent
    border-b-0
    border-t-2;
  border-block-start-style: solid;
}

// focus styles

.tab-title-close,
.container {
  @apply focus-base;
  &:focus {
    @apply focus-inset;
  }
}
.content:focus {
  outline: none;
}

:host(:active),
:host(:focus),
:host(:hover) {
  a {
    @apply text-color-1 border-color-2 no-underline;
  }
}

@include disabled() {
  .container,
  .tab-title-close {
    @apply pointer-events-none opacity-50;
  }
}

:host([scale="s"]) {
  margin-inline-end: 1rem;
  .content,
  .tab-title-close {
    @apply text-n2h py-1;
  }
}

:host([scale="m"]) {
  .content,
  .tab-title-close {
    @apply text-n1h py-2;
  }
}

:host([scale="l"]) {
  margin-inline-end: 1.5rem;
  .content,
  .tab-title-close {
    @apply text-0h py-2.5;
  }
}

.container {
  @apply flex;
  border-block-start-style: unset;
}

.content {
  @apply border-b-color-transparent
    text-color-3
    text-n1h
    transition-default
    box-border
    flex
    w-full
    cursor-pointer
    appearance-none
    justify-center
    items-center
    truncate
    px-0;
  border-block-end-style: solid;
}

.calcite-tab-title--icon {
  @apply relative
    m-0
    inline-flex
    self-center;
  & svg {
    @apply transition-default;
  }
}

.content--has-text {
  @apply p-1;
}

.content--has-text .calcite-tab-title--icon.icon-start {
  margin-inline-end: theme("margin.2");
}

.content--has-text .calcite-tab-title--icon.icon-end {
  margin-inline-start: theme("margin.2");
}

@mixin tab-title-element-base() {
  @apply transition-default 
      text-color-3 
      box-border
      flex
      cursor-pointer 
      self-stretch
      h-full
      appearance-none
      overflow-hidden
      border-none
      justify-center
      items-center;
  border-block-end-style: solid;
  border-block-end-color: transparent;
}

.tab-title-close {
  @include tab-title-element-base;
  @apply bg-foreground-1 text-color-1;
  flex: 0 0 auto;
  margin-inline-start: 0;
  background-color: var(--calcite-button-transparent-1);
}

// compensate for spacing when no hastext and two icons
:host([icon-start][icon-end]) {
  .calcite-tab-title--icon:first-child {
    margin-inline-end: theme("margin.2");
  }
}

// bordered / selected styles

:host([bordered]) {
  margin-inline-end: 0;
  .content {
    @apply mb-0;
  }
  .tab-title-close {
    border-block-end: 1px solid transparent;
  }
}

:host([selected]) .content,
:host([selected]) .tab-title-close {
  @apply text-color-1 border-color-transparent;
}

:host([bordered][selected]) {
  box-shadow: inset 0px -2px var(--calcite-ui-foreground-1);
  .container {
    border-inline-start: 1px solid var(--calcite-ui-border-1);
    border-inline-end: 1px solid var(--calcite-ui-border-1);
  }
}

:host([bordered][selected][position="bottom"]) {
  box-shadow: inset 0 2px 0 var(--calcite-ui-foreground-1);
  .container {
    border-block-start-style: none;
  }
}

:host([bordered][position="bottom"]) .container {
  border-block-start-style: unset;
}

:host([bordered]:hover),
:host([bordered]:focus),
:host([bordered]:active) {
  .container {
    @apply relative;
  }
}

// hover
:host([bordered]) {
  .tab-title-close:hover,
  .container:hover {
    @apply text-color-1;
    background-color: var(--calcite-button-transparent-hover);
  }
}

:host([bordered][scale="l"]) {
  .icon-present {
    padding-block: 11px;
  }
}

@media (forced-colors: active) {
  :host {
    outline-width: 0;
    outline-offset: 0;
  }
}
