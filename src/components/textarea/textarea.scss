:host {
  @apply inline-block;
}

textarea {
  @apply text-color-1 relative block
  bg-foreground-1 
  box-border
  border-color-input  
  border
  font-sans
  w-full 
  m-0;
  min-inline-size: theme("spacing.48");
  border-block-end: 1px solid var(--calcite-ui-border-3);
  &:focus {
    @apply outline-none border-color-brand border-2 border-solid border-b-2;
  }
  &.textarea--invalid {
    @apply border-color-danger border border-solid border-b;
    &:focus {
      @apply border-color-danger border-2 border-solid;
    }
  }
  &.footer-slotted {
    min-inline-size: theme("spacing.72");
  }
}

.footer {
  @apply flex bg-foreground-1 
  box-border
  border-color-input
  border
  border-solid
  justify-between
  border-t-0;
}

.character-limit {
  @apply flex justify-end text-color-2 grow items-center;
}

.character--overlimit {
  @apply font-bold text-danger;
}

.resize--disabled {
  resize: none;
}
.resize--disabled-x {
  resize: vertical;
}
.resize--disabled-y {
  resize: horizontal;
}

:host([scale="s"]) {
  @apply text-n2;
  textarea {
    @apply py-1 px-2;
    min-block-size: theme("spacing.16");
    block-size: calc(100% - 1.75rem);
  }
  .footer {
    @apply py-1 px-2 h-7;
  }
  @include slotted("footer-leading", "*") {
    @apply pr-2;
  }
  @include slotted("footer-trailing", "*") {
    @apply pl-2;
  }
}

:host([scale="s"]) {
  textarea,
  .footer,
  .character-limit {
    @apply text-n2;
  }
}

:host([scale="m"]) {
  textarea {
    @apply py-2 px-3;
    min-block-size: theme("spacing.20");
    block-size: calc(100% - 2.25rem);
  }
  .footer {
    @apply py-2 px-3 h-9;
  }
  @include slotted("footer-leading", "*") {
    @apply pr-3;
  }
  @include slotted("footer-trailing", "*") {
    @apply pl-3;
  }
}

:host([scale="m"]) {
  textarea,
  .footer,
  .character-limit {
    @apply text-n1;
  }
}

:host([scale="l"]) {
  @apply text-0;
  textarea {
    @apply py-3 px-4;
    min-block-size: theme("spacing.24");
    block-size: calc(100% - 2.75rem);
  }
  .footer {
    @apply py-3 px-4 h-11;
  }
  @include slotted("footer-leading", "*") {
    @apply pr-4;
  }
  @include slotted("footer-trailing", "*") {
    @apply pl-4;
  }
}

:host([scale="l"]) {
  textarea,
  .footer,
  .character-limit {
    @apply text-0;
  }
}

@include hidden-form-input();

.readonly {
  @apply bg-background font-medium;
}

:host([disabled]) {
  textarea,
  footer {
    @apply opacity-50;
  }
}

.border--color {
  @apply border-b border-color-input;
  &:focus {
    @apply border-b-2;
  }
}

:host textarea.block-size--full {
  @apply h-full;
}

.content,
.hide {
  @apply hidden;
}
