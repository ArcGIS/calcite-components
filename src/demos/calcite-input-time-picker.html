<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Calcite Input Time Picker</title>
    <style>
      body {
        margin: 20px;
      }

      .demo-background-light {
        border: 1px solid #202020;
        padding: 1rem;
      }

      .demo-background-dark {
        background: #202020;
        color: white;
        padding: 1rem;
      }

      h1,
      h2,
      h3 {
        margin: 0;
      }

      #locales {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 12px;
      }
    </style>
    <link rel="stylesheet" href="https://webapps-cdn.esri.com/CDN/fonts/v1.4.1/fonts.css" />
    <link rel="stylesheet" href="../build/calcite.css" />
    <script type="module" src="../build/calcite.esm.js"></script>
    <script nomodule src="../build/calcite.js"></script>
    <script type="module" src="./_assets/demo-form.js"></script>
    <script type="module" src="./_assets/demo-spacer.js"></script>
    <script src="_assets/locales.js"></script>
    <script>
      class DemoShadow extends HTMLElement {
        constructor() {
          super();
          this.attachShadow({ mode: "open" });
          this.shadowRoot.innerHTML = `
          <calcite-label>
            Time picking in a shadowed component ðŸ•”
            <calcite-input-time-picker scale="s" value="1:2:3" step="1" />
          </calcite-label>
        `;
        }
      }
      customElements.define("demo-shadow", DemoShadow);
    </script>
  </head>

  <body>
    <demo-spacer>
      <calcite-select></calcite-select>
      <calcite-input-time-picker step="1"></calcite-input-time-picker>
      <hr />
      <div id="locales"></div>
    </demo-spacer>
    <script>
      (async () => {
        await customElements.whenDefined("calcite-input-time-picker");
        const inputTimePicker = document.querySelector("calcite-input-time-picker");
        await inputTimePicker.componentOnReady();

        document.addEventListener("calciteInputTimePickerChange", (event) => {
          console.log("calciteInputTimePickerChange", event.target.value);
        });

        await customElements.whenDefined("calcite-select");
        const select = document.querySelector("calcite-select");
        await select.componentOnReady();

        locales.forEach(({ locale, name, dir }) => {
          let label = document.createElement("calcite-label");
          label.setAttribute("for", locale);
          label.appendChild(document.createTextNode(`${name} (${locale})`));

          const option = document.createElement("calcite-option");
          option.setAttribute("value", locale);
          option.appendChild(document.createTextNode(name));
          select.appendChild(option);
        });

        select.addEventListener("calciteSelectChange", (event) => {
          console.log(event);
          inputTimePicker.locale = event.target.selectedOption.value;
        });
      })();

      // const localeDemoContainer = document.getElementById("locales");
      // locales.forEach(({ locale, name, dir }) => {
      //   let localeEl = document.createElement("div");
      //   localeEl.setAttribute("class", "locale");
      //   let label = document.createElement("calcite-label");
      //   label.setAttribute("for", locale);
      //   label.appendChild(document.createTextNode(`${name} (${locale})`));
      //   let input = document.createElement("calcite-input-time-picker");
      //   dir && input.setAttribute("dir", dir);
      //   input.setAttribute("id", locale);
      //   input.setAttribute("locale", locale);
      //   input.setAttribute("name", locale);
      //   input.setAttribute("step", "1");
      //   input.setAttribute("value", "14:59:00");
      //   localeEl.appendChild(label);
      //   localeEl.appendChild(input);
      //   localeDemoContainer.appendChild(localeEl);
      // });
    </script>
  </body>
</html>
