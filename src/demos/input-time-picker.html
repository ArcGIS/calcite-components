<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Input Time Picker</title>
    <link rel="stylesheet" href="https://webapps-cdn.esri.com/CDN/fonts/v1.4.1/fonts.css" />
    <link rel="stylesheet" href="../build/calcite.css" />
    <script type="module" src="../build/calcite.esm.js"></script>
    <script nomodule src="../build/calcite.js"></script>
    <script src="./_assets/head.js"></script>
    <script src="./_assets/locales.js"></script>
    <style>
      .demo-header {
        margin-bottom: unset !important;
      }
      #main-container {
        display: flex;
        flex: 1 1 auto;
      }
      #locales {
        height: calc(100vh - 82px);
        overflow-y: scroll;
      }
      main {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1em;
        align-items: flex-start;
        justify-items: center;
        padding: 1em;
      }
      .column {
        display: flex;
        flex-direction: column;
        gap: 1em;
      }
    </style>
  </head>
  <body>
    <demo-dom-swapper>
      <div id="main-container">
        <main></main>
      </div>

      <script>
        (async () => {
          await customElements.whenDefined("calcite-label");
          await customElements.whenDefined("calcite-input-time-picker");

          document.addEventListener("calciteInputTimePickerChange", (event) => {
            console.log("calciteInputTimePickerChange", event.target.value);
          });

          const mainEl = document.querySelector("main");
          const currentDate = new Date();
          const currentTime = `${currentDate.getHours()}:${currentDate.getMinutes()}:${currentDate.getSeconds()}`;

          locales.forEach(({ locale, name, numberingSystem }) => {
            let labelEl = document.createElement("calcite-label");
            let inputTimePickerEl = document.createElement("calcite-input-time-picker");
            inputTimePickerEl.setAttribute("lang", locale);
            inputTimePickerEl.setAttribute("numbering-system", numberingSystem || "latn");
            inputTimePickerEl.setAttribute("step", 1);
            inputTimePickerEl.setAttribute("value", currentTime);
            labelEl.appendChild(document.createTextNode(`${name} (${locale})`));
            labelEl.appendChild(inputTimePickerEl);
            mainEl.appendChild(labelEl);
          });
        })();
      </script>
    </demo-dom-swapper>
  </body>
</html>
